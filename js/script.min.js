!function(a){a.fn.jQueryClearButton=function(b){if(!this.is(":visible"))return this;var c=this,d=c.attr("id"),e="dokodemo-input-clear-"+d,f={always:!1,zindex:0,offset_top:14,offset_right:50,button_width:20,button_height:20,color:"#aaa"},g=a.extend(f,b);a("body").append("<style> input::-ms-clear { visibility:hidden; } </style>");var h=a('<div style="position:relative; margin:0; padding:0; border:none;">');this.before(h),this.prependTo(h);var i=a('<div class="glyphicon glyphicon-remove '+e+'"></div>');this.before(i),i.css({position:"absolute",display:"none",cursor:"pointer","z-index":g.zindex,width:g.button_width+"px",height:g.button_height+"px",color:g.color});var j=h.height();j||(j=c.height());g.button_height;return i.css({top:g.offset_top+"px",right:g.offset_right+"px"}),i.on("click",function(){c.val("").focus(),g.always||i.hide()}),c.on("input",function(){c.val()?i.show():g.always||i.hide()}),g.always?i.show():(c.on("focus",function(){c.val()?i.show():i.hide()}),c.on("blur",function(){setTimeout("$('."+e+"').hide()",200)}),c.on("mouseover",function(){c.val()?i.show():i.hide()})),this}}(jQuery);var EasyAutocomplete=function(a){return a.Configuration=function(a){function b(a){return void 0!==d[a]&&null!==d[a]}function c(a,b){function c(b,d){for(var f in d)void 0===b[f]&&a.log("Property '"+f+"' does not exist in EasyAutocomplete options API."),"object"==typeof b[f]&&$.inArray(f,e)===-1&&c(b[f],d[f])}c(d,b)}var d={data:"list-required",url:"list-required",dataType:"json",listLocation:function(a){return a},xmlElementName:"",getValue:function(a){return a},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(a,b){return a=d.getValue(a),b=d.getValue(b),a<b?-1:a>b?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(a,b){return a.search(b)>-1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!1,ajaxSettings:{},preparePostData:function(a,b){return a},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},e=["ajaxSettings","template"];this.get=function(a){return d[a]},this.equals=function(a,c){return!(!b(a)||d[a]!==c)},this.checkDataUrlProperties=function(){return"list-required"!==d.url||"list-required"!==d.data},this.checkRequiredProperties=function(){for(var a in d)if("required"===d[a])return logger.error("Option "+a+" must be defined"),!1;return!0},this.printPropertiesThatDoesntExist=function(a,b){c(a,b)},function(){if("xml"===a.dataType&&(a.getValue||(a.getValue=function(a){return $(a).text()}),a.list||(a.list={}),a.list.sort||(a.list.sort={}),a.list.sort.method=function(b,c){return b=a.getValue(b),c=a.getValue(c),b<c?-1:b>c?1:0},a.list.match||(a.list.match={}),a.list.match.method=function(a,b){return a.search(b)>-1}),void 0!==a.categories&&a.categories instanceof Array){for(var b=[],c=0,e=a.categories.length;c<e;c+=1){var f=a.categories[c];for(var g in d.categories[0])void 0===f[g]&&(f[g]=d.categories[0][g]);b.push(f)}a.categories=b}}(),function(){function b(a,c){var d=a||{};for(var e in a)void 0!==c[e]&&null!==c[e]&&("object"!=typeof c[e]||c[e]instanceof Array?d[e]=c[e]:b(a[e],c[e]));return void 0!==c.data&&null!==c.data&&"object"==typeof c.data&&(d.data=c.data),d}d=b(d,a)}(),d.loggerEnabled===!0&&c(console,a),function(){void 0!==a.ajaxSettings&&"object"==typeof a.ajaxSettings?d.ajaxSettings=a.ajaxSettings:d.ajaxSettings={}}(),function(){if("list-required"!==d.url&&"function"!=typeof d.url){var b=d.url;d.url=function(){return b}}if(void 0!==d.ajaxSettings.url&&"function"!=typeof d.ajaxSettings.url){var b=d.ajaxSettings.url;d.ajaxSettings.url=function(){return b}}if("string"==typeof d.listLocation){var c=d.listLocation;"XML"===d.dataType.toUpperCase()?d.listLocation=function(a){return $(a).find(c)}:d.listLocation=function(a){return a[c]}}if("string"==typeof d.getValue){var e=d.getValue;d.getValue=function(a){return a[e]}}void 0!==a.categories&&(d.categoriesAssigned=!0)}()},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.Logger=function(){this.error=function(a){console.log("ERROR: "+a)},this.warning=function(a){console.log("WARNING: "+a)}},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.Constans=function(){var a={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(b){return a[b]}},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.ListBuilderService=function(a,b){function c(b,c){var d={};if(d="XML"===a.get("dataType").toUpperCase()?function(){var d,e={};return void 0!==b.xmlElementName&&(e.xmlElementName=b.xmlElementName),void 0!==b.listLocation?d=b.listLocation:void 0!==a.get("listLocation")&&(d=a.get("listLocation")),void 0!==d?"string"==typeof d?e.data=$(c).find(d):"function"==typeof d&&(e.data=d(c)):e.data=c,e}():function(){var a={};return void 0!==b.listLocation?"string"==typeof b.listLocation?a.data=c[b.listLocation]:"function"==typeof b.listLocation&&(a.data=b.listLocation(c)):a.data=c,a}(),void 0!==b.header&&(d.header=b.header),void 0!==b.maxNumberOfElements&&(d.maxNumberOfElements=b.maxNumberOfElements),void 0!==a.get("list").maxNumberOfElements&&(d.maxListSize=a.get("list").maxNumberOfElements),void 0!==b.getValue)if("string"==typeof b.getValue){var e=b.getValue;d.getValue=function(a){return a[e]}}else"function"==typeof b.getValue&&(d.getValue=b.getValue);else d.getValue=a.get("getValue");return d}function d(b){var c=[];return void 0===b.xmlElementName&&(b.xmlElementName=a.get("xmlElementName")),$(b.data).find(b.xmlElementName).each(function(){c.push(this)}),c}this.init=function(b){var c=[],d={};return d.data=a.get("listLocation")(b),d.getValue=a.get("getValue"),d.maxListSize=a.get("list").maxNumberOfElements,c.push(d),c},this.updateCategories=function(b,d){if(a.get("categoriesAssigned")){b=[];for(var e=0;e<a.get("categories").length;e+=1){var f=c(a.get("categories")[e],d);b.push(f)}}return b},this.convertXml=function(b){if("XML"===a.get("dataType").toUpperCase())for(var c=0;c<b.length;c+=1)b[c].data=d(b[c]);return b},this.processData=function(c,d){for(var e=0,f=c.length;e<f;e+=1)c[e].data=b(a,c[e],d);return c},this.checkIfDataExists=function(a){for(var b=0,c=a.length;b<c;b+=1)if(void 0!==a[b].data&&a[b].data instanceof Array&&a[b].data.length>0)return!0;return!1}},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.proccess=function(b,c,d){function e(a,c){return b.get("list").match.caseSensitive||("string"==typeof a&&(a=a.toLowerCase()),c=c.toLowerCase()),!!b.get("list").match.method(a,c)}a.proccess.match=e;var f=c.data,g=d;return f=function(a,c){var d=[],f="";if(b.get("list").match.enabled)for(var g=0,h=a.length;g<h;g+=1)f=b.get("getValue")(a[g]),e(f,c)&&d.push(a[g]);else d=a;return d}(f,g),f=function(a){return void 0!==c.maxNumberOfElements&&a.length>c.maxNumberOfElements&&(a=a.slice(0,c.maxNumberOfElements)),a}(f),f=function(a){return b.get("list").sort.enabled&&a.sort(b.get("list").sort.method),a}(f)},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.Template=function(a){var b={basic:{type:"basic",method:function(a){return a},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(a){return a+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(a){return a},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(a){return a},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(a){return a},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},c=function(a){var c,d=a.fields;return"description"===a.type?(c=b.description.method,"string"==typeof d.description?c=function(a,b){return a+" - <span>"+b[d.description]+"</span>"}:"function"==typeof d.description&&(c=function(a,b){return a+" - <span>"+d.description(b)+"</span>"}),c):"iconRight"===a.type?("string"==typeof d.iconSrc?c=function(a,b){return a+"<img class='eac-icon' src='"+b[d.iconSrc]+"' />"}:"function"==typeof d.iconSrc&&(c=function(a,b){return a+"<img class='eac-icon' src='"+d.iconSrc(b)+"' />"}),c):"iconLeft"===a.type?("string"==typeof d.iconSrc?c=function(a,b){return"<img class='eac-icon' src='"+b[d.iconSrc]+"' />"+a}:"function"==typeof d.iconSrc&&(c=function(a,b){return"<img class='eac-icon' src='"+d.iconSrc(b)+"' />"+a}),c):"links"===a.type?("string"==typeof d.link?c=function(a,b){return"<a href='"+b[d.link]+"' >"+a+"</a>"}:"function"==typeof d.link&&(c=function(a,b){return"<a href='"+d.link(b)+"' >"+a+"</a>"}),c):"custom"===a.type?a.method:b.basic.method};this.getTemplateClass=function(a){var c=function(){return""};return a&&a.type&&a.type&&b[a.type]?function(){var c=b[a.type].cssClass;return function(){return c}}():c}(a),this.build=function(a){return a&&a.type&&a.type&&b[a.type]?c(a):b.basic.method}(a)},a}(EasyAutocomplete||{}),EasyAutocomplete=function(a){return a.main=function(b,c){function d(){return 0===t.length?void p.error("Input field doesn't exist."):o.checkDataUrlProperties()?o.checkRequiredProperties()?(e(),void g()):void p.error("Will not work without mentioned properties."):void p.error("One of options variables 'data' or 'url' must be defined.")}function e(){function a(){var a=t.outerWidth();t.parent().css("width",a)}function b(a,b){return o.get("highlightPhrase")&&""!==b?d(a,b):a}function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function d(a,b){var d=c(b);return(a+"").replace(new RegExp("("+d+")","gi"),"<b>$1</b>")}t.parent().hasClass(n.getValue("WRAPPER_CSS_CLASS"))&&(function(){t.next("."+n.getValue("CONTAINER_CLASS")).remove()}(),function(){t.unwrap()}()),function(){var b=$("<div>"),c=n.getValue("WRAPPER_CSS_CLASS");o.get("theme")&&""!==o.get("theme")&&(c+=" eac-"+o.get("theme")),o.get("cssClasses")&&""!==o.get("cssClasses")&&(c+=" "+o.get("cssClasses")),""!==q.getTemplateClass()&&(c+=" "+q.getTemplateClass()),b.addClass(c),t.wrap(b),o.get("adjustWidth")===!0&&a()}(),function(){var a=$("<div>").addClass(n.getValue("CONTAINER_CLASS"));a.attr("id",f()).prepend($("<ul>")),function(){a.on("show.eac",function(){switch(o.get("list").showAnimation.type){case"slide":var b=o.get("list").showAnimation.time,c=o.get("list").showAnimation.callback;a.find("ul").slideDown(b,c);break;case"fade":var b=o.get("list").showAnimation.time,c=o.get("list").showAnimation.callback;a.find("ul").fadeIn(b);break;default:a.find("ul").show()}o.get("list").onShowListEvent()}).on("hide.eac",function(){switch(o.get("list").hideAnimation.type){case"slide":var b=o.get("list").hideAnimation.time,c=o.get("list").hideAnimation.callback;a.find("ul").slideUp(b,c);break;case"fade":var b=o.get("list").hideAnimation.time,c=o.get("list").hideAnimation.callback;a.find("ul").fadeOut(b,c);break;default:a.find("ul").hide()}o.get("list").onHideListEvent()}).on("selectElement.eac",function(){a.find("ul li").removeClass("selected"),a.find("ul li").eq(w).addClass("selected"),o.get("list").onSelectItemEvent()}).on("loadElements.eac",function(c,d,e){var f="",g=a.find("ul");g.empty().detach(),v=[];for(var h=0,i=0,k=d.length;i<k;i+=1){var l=d[i].data;if(0!==l.length){void 0!==d[i].header&&d[i].header.length>0&&g.append("<div class='eac-category' >"+d[i].header+"</div>");for(var m=0,n=l.length;m<n&&h<d[i].maxListSize;m+=1)f=$("<li><div class='eac-item'></div></li>"),function(){var a=m,c=h,g=d[i].getValue(l[a]);f.find(" > div").on("click",function(){t.val(g).trigger("change"),w=c,j(c),o.get("list").onClickEvent(),o.get("list").onChooseEvent()}).mouseover(function(){w=c,j(c),o.get("list").onMouseOverEvent()}).mouseout(function(){o.get("list").onMouseOutEvent()}).html(q.build(b(g,e),l[a]))}(),g.append(f),v.push(l[m]),h+=1}}a.append(g),o.get("list").onLoadEvent()})}(),t.after(a)}(),u=$("#"+f()),o.get("placeholder")&&t.attr("placeholder",o.get("placeholder"))}function f(){var a=t.attr("id");return a=n.getValue("CONTAINER_ID")+a}function g(){function a(){t.focusout(function(){var a,b=t.val();o.get("list").match.caseSensitive||(b=b.toLowerCase());for(var c=0,d=v.length;c<d;c+=1)if(a=o.get("getValue")(v[c]),o.get("list").match.caseSensitive||(a=a.toLowerCase()),a===b)return w=c,void j(w)})}function b(){t.off("keyup").keyup(function(a){function b(a){function b(a,b){return o.get("matchResponseProperty")===!1||("string"==typeof o.get("matchResponseProperty")?b[o.get("matchResponseProperty")]===a:"function"!=typeof o.get("matchResponseProperty")||o.get("matchResponseProperty")(b)===a)}if(!(a.length<o.get("minCharNumber"))){if("list-required"!==o.get("data")){var c=o.get("data"),d=r.init(c);d=r.updateCategories(d,c),d=r.processData(d,a),k(d,a),t.parent().find("li").length>0?h():i()}var e=function(){var a={},b=o.get("ajaxSettings")||{};for(var c in b)a[c]=b[c];return a}();void 0!==e.url&&""!==e.url||(e.url=o.get("url")),void 0!==e.dataType&&""!==e.dataType||(e.dataType=o.get("dataType")),void 0!==e.url&&"list-required"!==e.url&&(e.url=e.url(a),e.data=o.get("preparePostData")(e.data,a),$.ajax(e).done(function(c){var d=r.init(c);d=r.updateCategories(d,c),d=r.convertXml(d),b(a,c)&&(d=r.processData(d,a),k(d,a)),r.checkIfDataExists(d)&&t.parent().find("li").length>0?h():i(),o.get("ajaxCallback")()}).fail(function(){p.warning("Fail to load response data")}).always(function(){}))}}switch(a.keyCode){case 27:i(),l();break;case 38:a.preventDefault(),v.length>0&&w>0&&(w-=1,t.val(o.get("getValue")(v[w])),j(w));break;case 40:a.preventDefault(),v.length>0&&w<v.length-1&&(w+=1,t.val(o.get("getValue")(v[w])),j(w));break;default:if(a.keyCode>40||8===a.keyCode){var c=t.val();o.get("list").hideOnEmptyPhrase!==!0||8!==a.keyCode||""!==c?o.get("requestDelay")>0?(void 0!==m&&clearTimeout(m),m=setTimeout(function(){b(c)},o.get("requestDelay"))):b(c):i()}}})}function c(){t.on("keydown",function(a){if(a=a||window.event,38===a.keyCode)return suppressKeypress=!0,!1}).keydown(function(a){13===a.keyCode&&w>-1&&(t.val(o.get("getValue")(v[w])),o.get("list").onKeyEnterEvent(),o.get("list").onChooseEvent(),w=-1,i(),a.preventDefault())})}function d(){t.off("keypress")}function e(){t.focus(function(){""!==t.val()&&v.length>0&&(w=-1,h())})}function f(){t.blur(function(){setTimeout(function(){w=-1,i()},250)})}function g(){t.attr("autocomplete","off")}!function(){s("autocompleteOff",!0)&&g(),a(),b(),c(),d(),e(),f()}()}function h(){u.trigger("show.eac")}function i(){u.trigger("hide.eac")}function j(a){u.trigger("selectElement.eac",a)}function k(a,b){u.trigger("loadElements.eac",[a,b])}function l(){t.trigger("blur")}var m,n=new a.Constans,o=new a.Configuration(c),p=new a.Logger,q=new a.Template(c.template),r=new a.ListBuilderService(o,a.proccess),s=o.equals,t=b,u="",v=[],w=-1;a.consts=n,this.getConstants=function(){return n},this.getConfiguration=function(){return o},this.getContainer=function(){return u},this.getSelectedItemIndex=function(){return w},this.getItems=function(){return v},this.getItemData=function(a){return v.length<a||void 0===v[a]?-1:v[a]},this.getSelectedItemData=function(){return this.getItemData(w)},this.build=function(){e()},this.init=function(){d()}},a.eacHandles=[],a.getHandle=function(b){return a.eacHandles[b]},a.inputHasId=function(a){return void 0!==$(a).attr("id")&&$(a).attr("id").length>0},a.assignRandomId=function(b){var c="";do{c="eac-"+Math.floor(1e4*Math.random())}while(0!==$("#"+c).length);elementId=a.consts.getValue("CONTAINER_ID")+c,$(b).attr("id",c)},a.setHandle=function(b,c){a.eacHandles[c]=b},a}(EasyAutocomplete||{});!function(a){a.fn.easyAutocomplete=function(b){return this.each(function(){var c=a(this),d=new EasyAutocomplete.main(c,b);EasyAutocomplete.inputHasId(c)||EasyAutocomplete.assignRandomId(c),d.init(),EasyAutocomplete.setHandle(d,c.attr("id"))})},a.fn.getSelectedItemIndex=function(){var b=a(this).attr("id");return void 0!==b?EasyAutocomplete.getHandle(b).getSelectedItemIndex():-1},a.fn.getItems=function(){var b=a(this).attr("id");return void 0!==b?EasyAutocomplete.getHandle(b).getItems():-1},a.fn.getItemData=function(b){var c=a(this).attr("id");return void 0!==c&&b>-1?EasyAutocomplete.getHandle(c).getItemData(b):-1},a.fn.getSelectedItemData=function(){var b=a(this).attr("id");return void 0!==b?EasyAutocomplete.getHandle(b).getSelectedItemData():-1}}(jQuery),function(a){a.fn.niceSelect=function(b){function c(b){b.after(a("<div></div>").addClass("nice-select").addClass(b.attr("class")||"").addClass(b.attr("disabled")?"disabled":"").attr("tabindex",b.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var c=b.next(),d=b.find("option"),e=b.find("option:selected");c.find(".current").html(e.data("display")||e.text()),d.each(function(b){var d=a(this),e=d.data("display");c.find("ul").append(a("<li></li>").attr("data-value",d.val()).attr("data-display",e||null).addClass("option"+(d.is(":selected")?" selected":"")+(d.is(":disabled")?" disabled":"")).html(d.text()))})}if("string"==typeof b)return"update"==b?this.each(function(){var b=a(this),d=a(this).next(".nice-select"),e=d.hasClass("open");d.length&&(d.remove(),c(b),e&&b.next().trigger("click"))}):"destroy"==b?(this.each(function(){var b=a(this),c=a(this).next(".nice-select");c.length&&(c.remove(),b.css("display",""))}),0==a(".nice-select").length&&a(document).off(".nice_select")):console.log('Method "'+b+'" does not exist.'),this;this.hide(),this.each(function(){var b=a(this);b.next().hasClass("nice-select")||c(b)}),a(document).off(".nice_select"),a(document).on("click.nice_select",".nice-select",function(b){var c=a(this);a(".nice-select").not(c).removeClass("open"),c.toggleClass("open"),c.hasClass("open")?(c.find(".option"),c.find(".focus").removeClass("focus"),c.find(".selected").addClass("focus")):c.focus()}),a(document).on("click.nice_select",function(b){0===a(b.target).closest(".nice-select").length&&a(".nice-select").removeClass("open").find(".option")}),a(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(b){var c=a(this),d=c.closest(".nice-select");d.find(".selected").removeClass("selected"),c.addClass("selected");var e=c.data("display")||c.text();d.find(".current").text(e),d.prev("select").val(c.data("value")).trigger("change")}),a(document).on("keydown.nice_select",".nice-select",function(b){var c=a(this),d=a(c.find(".focus")||c.find(".list .option.selected"));if(32==b.keyCode||13==b.keyCode)return c.hasClass("open")?d.trigger("click"):c.trigger("click"),!1;if(40==b.keyCode){if(c.hasClass("open")){var e=d.nextAll(".option:not(.disabled)").first();e.length>0&&(c.find(".focus").removeClass("focus"),e.addClass("focus"))}else c.trigger("click");return!1}if(38==b.keyCode){if(c.hasClass("open")){var f=d.prevAll(".option:not(.disabled)").first();f.length>0&&(c.find(".focus").removeClass("focus"),f.addClass("focus"))}else c.trigger("click");return!1}if(27==b.keyCode)c.hasClass("open")&&c.trigger("click");else if(9==b.keyCode&&c.hasClass("open"))return!1});var d=document.createElement("a").style;return d.cssText="pointer-events:auto","auto"!==d.pointerEvents&&a("html").addClass("no-csspointerevents"),this}}(jQuery),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.PhotoSwipe=d()}(this,function(){"use strict";return function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10))>=1&&g<8&&(d.isOldIOSPhone=!0)}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(i<4.4&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;n<4;n++){c=m[n];for(var o=0;o<3;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(g,d);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja=function(){return{x:0,y:0}},ka=ja(),la=ja(),ma=ja(),na={},oa=0,pa={},qa=ja(),ra=0,sa=!0,ta=[],ua={},va=!1,wa=function(a,b){e.extend(f,b.publicMethods),ta.push(a)},xa=function(a){var b=Xb();return a>b-1?a-b:a<0?b+a:a},ya={},za=function(a,b){return ya[a]||(ya[a]=[]),ya[a].push(b)},Aa=function(a){var b=ya[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ba=function(){return(new Date).getTime()},Ca=function(a){ga=a,f.bg.style.opacity=a*g.bgOpacity},Da=function(a,b,c,d,e){(!va||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[C]=s+b+"px, "+c+"px"+t+" scale("+d+")"},Ea=function(a){ba&&(a&&(q>f.currItem.fitRatio?va||(hc(f.currItem,!1,!0),va=!0):va&&(hc(f.currItem),va=!1)),Da(ba,ma.x,ma.y,q))},Fa=function(a){a.container&&Da(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ga=function(a,b){b[C]=s+a+"px, 0px"+t},Ha=function(a,b){if(!g.loop&&b){var c=k+(qa.x*oa-a)/qa.x,d=Math.round(a-ob.x);(c<0&&d>0||c>=Xb()-1&&d<0)&&(a=ob.x+d*g.mainScrollEndFriction)}ob.x=a,Ga(a,l)},Ia=function(a,b){var c=pb[a]-pa[a];return la[a]+ka[a]+c-c*(b/r)},Ja=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ka=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},La=null,Ma=function(){La&&(e.unbind(document,"mousemove",Ma),e.addClass(a,"pswp--has_mouse"),g.mouseUsed=!0,Aa("mouseUsed")),La=setTimeout(function(){La=null},100)},Na=function(){e.bind(document,"keydown",f),L.transform&&e.bind(f.scrollWrap,"click",f),g.mouseUsed||e.bind(document,"mousemove",Ma),e.bind(window,"resize scroll",f),Aa("bindEvents")},Oa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",p.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Ma),L.transform&&e.unbind(f.scrollWrap,"click",f),S&&e.unbind(window,n,f),Aa("unbindEvents")},Pa=function(a,b){var c=dc(f.currItem,na,a);return b&&(aa=c),c},Qa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ra=function(a){return a||(a=f.currItem),a.w>0?g.maxSpreadZoom:1},Sa=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ia(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]&&(c[a]=b.max[a],!0))},Ta=function(){if(C){return s="translate"+(L.perspective&&!E?"3d(":"("),void(t=L.perspective?", 0px)":")")}C="left",e.addClass(a,"pswp--ie"),Ga=function(a,b){b.left=a+"px"},Fa=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ea=function(){if(ba){var a=ba,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=ma.x+"px",a.top=ma.y+"px"}}},Ua=function(a){var b="";g.escKey&&27===a.keyCode?b="close":g.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Va=function(a){a&&(V||U||ca||Q)&&(a.preventDefault(),a.stopPropagation())},Wa=function(){f.setScrollOffset(0,e.getScrollY())},Xa={},Ya=0,Za=function(a){Xa[a]&&(Xa[a].raf&&G(Xa[a].raf),Ya--,delete Xa[a])},$a=function(a){Xa[a]&&Za(a),Xa[a]||(Ya++,Xa[a]={})},_a=function(){for(var a in Xa)Xa.hasOwnProperty(a)&&Za(a)},ab=function(a,b,c,d,e,f,g){var h,i=Ba();$a(a);var j=function(){if(Xa[a]){if((h=Ba()-i)>=d)return Za(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Xa[a].raf=F(j)}};j()},bb={shout:Aa,listen:za,viewportSize:na,options:g,isMainScrollAnimating:function(){return ca},getZoomLevel:function(){return q},getCurrentIndex:function(){return k},isDragging:function(){return S},isZooming:function(){return Z},setScrollOffset:function(a,b){pa.x=a,K=pa.y=b,Aa("updateScrollOffset",pa)},applyZoomPan:function(a,b,c,d){ma.x=b,ma.y=c,q=a,Ea(d)},init:function(){if(!h&&!i){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),H=a.className,h=!0,L=e.detectFeatures(),F=L.raf,G=L.caf,C=L.transform,J=L.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),l=f.container.style,f.itemHolders=w=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],w[0].el.style.display=w[2].el.style.display="none",Ta(),p={resize:f.updateSize,scroll:Wa,keydown:Ua,click:Va};var d=L.isOldIOSPhone||L.isOldAndroid||L.isMobileOpera;for(L.animationName&&L.transform&&!d||(g.showAnimationDuration=g.hideAnimationDuration=0),c=0;c<ta.length;c++)f["init"+ta[c]]();if(b){(f.ui=new b(f,e)).init()}Aa("firstUpdate"),k=k||g.index||0,(isNaN(k)||k<0||k>=Xb())&&(k=0),f.currItem=Wb(k),(L.isOldIOSPhone||L.isOldAndroid)&&(sa=!1),a.setAttribute("aria-hidden","false"),g.modal&&(sa?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===K&&(Aa("initialLayout"),K=I=e.getScrollY());var j="pswp--open ";for(g.mainClass&&(j+=g.mainClass+" "),g.showHideOpacity&&(j+="pswp--animate_opacity "),j+=E?"pswp--touch":"pswp--notouch",j+=L.animationName?" pswp--css_animation":"",j+=L.svg?" pswp--svg":"",e.addClass(a,j),f.updateSize(),m=-1,ra=null,c=0;c<3;c++)Ga((c+m)*qa.x,w[c].el.style);J||e.bind(f.scrollWrap,o,f),za("initialZoomInEnd",function(){f.setContent(w[0],k-1),f.setContent(w[2],k+1),w[0].el.style.display=w[2].el.style.display="block",g.focus&&a.focus(),Na()}),f.setContent(w[1],k),f.updateCurrItem(),Aa("afterInit"),sa||(u=setInterval(function(){Ya||S||Z||q!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){h&&(h=!1,i=!0,Aa("close"),Oa(),Zb(f.currItem,null,!0,f.destroy))},destroy:function(){Aa("destroy"),Sb&&clearTimeout(Sb),a.setAttribute("aria-hidden","true"),a.className=H,u&&clearInterval(u),e.unbind(f.scrollWrap,o,f),e.unbind(window,"scroll",f),ub(),_a(),ya=null},panTo:function(a,b,c){c||(a>aa.min.x?a=aa.min.x:a<aa.max.x&&(a=aa.max.x),b>aa.min.y?b=aa.min.y:b<aa.max.y&&(b=aa.max.y)),ma.x=a,ma.y=b,Ea()},handleEvent:function(a){a=a||window.event,p[a.type]&&p[a.type](a)},goTo:function(a){a=xa(a);var b=a-k;ra=b,k=a,f.currItem=Wb(k),oa-=b,Ha(qa.x*oa),_a(),ca=!1,f.updateCurrItem()},next:function(){f.goTo(k+1)},prev:function(){f.goTo(k-1)},updateCurrZoomItem:function(a){if(a&&Aa("beforeChange",0),w[1].el.children.length){var b=w[1].el.children[0];ba=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else ba=null;aa=f.currItem.bounds,r=q=f.currItem.initialZoomLevel,ma.x=aa.center.x,ma.y=aa.center.y,a&&Aa("afterChange")},invalidateCurrItems:function(){v=!0;for(var a=0;a<3;a++)w[a].item&&(w[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ra){var b,c=Math.abs(ra);if(!(a&&c<2)){f.currItem=Wb(k),va=!1,Aa("beforeChange",ra),c>=3&&(m+=ra+(ra>0?-3:3),c=3);for(var d=0;d<c;d++)ra>0?(b=w.shift(),w[2]=b,m++,Ga((m+2)*qa.x,b.el.style),f.setContent(b,k-c+d+1+1)):(b=w.pop(),w.unshift(b),m--,Ga(m*qa.x,b.el.style),f.setContent(b,k+c-d-1-1));if(ba&&1===Math.abs(ra)){var e=Wb(x);e.initialZoomLevel!==q&&(dc(e,na),hc(e),Fa(e))}ra=0,f.updateCurrZoomItem(),x=k,Aa("afterChange")}}},updateSize:function(b){if(!sa&&g.modal){var c=e.getScrollY();if(K!==c&&(a.style.top=c+"px",K=c),!b&&ua.x===window.innerWidth&&ua.y===window.innerHeight)return;ua.x=window.innerWidth,ua.y=window.innerHeight,a.style.height=ua.y+"px"}if(na.x=f.scrollWrap.clientWidth,na.y=f.scrollWrap.clientHeight,Wa(),qa.x=na.x+Math.round(na.x*g.spacing),qa.y=na.y,Ha(qa.x*oa),Aa("beforeResize"),void 0!==m){for(var d,h,i,j=0;j<3;j++)d=w[j],Ga((j+m)*qa.x,d.el.style),i=k+j-1,g.loop&&Xb()>2&&(i=xa(i)),h=Wb(i),h&&(v||h.needsUpdate||!h.bounds)?(f.cleanSlide(h),f.setContent(d,i),1===j&&(f.currItem=h,f.updateCurrZoomItem(!0)),h.needsUpdate=!1):d.index===-1&&i>=0&&f.setContent(d,i),h&&h.container&&(dc(h,na),hc(h),Fa(h));v=!1}r=q=f.currItem.initialZoomLevel,aa=f.currItem.bounds,aa&&(ma.x=aa.center.x,ma.y=aa.center.y,Ea(!0)),Aa("resize")},zoomTo:function(a,b,c,d,f){b&&(r=q,pb.x=Math.abs(b.x)-ma.x,pb.y=Math.abs(b.y)-ma.y,Ja(la,ma));var g=Pa(a,!1),h={};Sa("x",g,h,a),Sa("y",g,h,a);var i=q,j={x:ma.x,y:ma.y};Ka(h);var k=function(b){1===b?(q=a,ma.x=h.x,ma.y=h.y):(q=(a-i)*b+i,ma.x=(h.x-j.x)*b+j.x,ma.y=(h.y-j.y)*b+j.y),f&&f(b),Ea(1===b)};c?ab("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}
},cb={},db={},eb={},fb={},gb={},hb=[],ib={},jb=[],kb={},lb=0,mb=ja(),nb=0,ob=ja(),pb=ja(),qb=ja(),rb=function(a,b){return a.x===b.x&&a.y===b.y},sb=function(a,b){return Math.abs(a.x-b.x)<25&&Math.abs(a.y-b.y)<25},tb=function(a,b){return kb.x=Math.abs(a.x-b.x),kb.y=Math.abs(a.y-b.y),Math.sqrt(kb.x*kb.x+kb.y*kb.y)},ub=function(){W&&(G(W),W=null)},vb=function(){S&&(W=F(vb),Lb())},wb=function(){return!("fit"===g.scaleMode&&q===f.currItem.initialZoomLevel)},xb=function(a,b){return!(!a||a===document)&&(!(a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(b(a)?a:xb(a.parentNode,b)))},yb={},zb=function(a,b){return yb.prevent=!xb(a.target,g.isClickableElement),Aa("preventDragEvent",a,b,yb),yb.prevent},Ab=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Bb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Cb=function(a,b,c){if(a-N>50){var d=jb.length>2?jb.shift():{};d.x=b,d.y=c,jb.push(d),N=a}},Db=function(){var a=ma.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(na.y/2))},Eb={},Fb={},Gb=[],Hb=function(a){for(;Gb.length>0;)Gb.pop();return D?(ia=0,hb.forEach(function(a){0===ia?Gb[0]=a:1===ia&&(Gb[1]=a),ia++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Gb[0]=Ab(a.touches[0],Eb),a.touches.length>1&&(Gb[1]=Ab(a.touches[1],Fb))):(Eb.x=a.pageX,Eb.y=a.pageY,Eb.id="",Gb[0]=Eb),Gb},Ib=function(a,b){var c,d,e,h,i=ma[a]+b[a],j=b[a]>0,k=ob.x+b.x,l=ob.x-ib.x;if(c=i>aa.min[a]||i<aa.max[a]?g.panEndFriction:1,i=ma[a]+b[a]*c,(g.allowPanToNext||q===f.currItem.initialZoomLevel)&&(ba?"h"!==da||"x"!==a||U||(j?(i>aa.min[a]&&(c=g.panEndFriction,aa.min[a]-i,d=aa.min[a]-la[a]),(d<=0||l<0)&&Xb()>1?(h=k,l<0&&k>ib.x&&(h=ib.x)):aa.min.x!==aa.max.x&&(e=i)):(i<aa.max[a]&&(c=g.panEndFriction,i-aa.max[a],d=la[a]-aa.max[a]),(d<=0||l>0)&&Xb()>1?(h=k,l>0&&k<ib.x&&(h=ib.x)):aa.min.x!==aa.max.x&&(e=i))):h=k,"x"===a))return void 0!==h&&(Ha(h,!0),X=h!==ib.x),aa.min.x!==aa.max.x&&(void 0!==e?ma.x=e:X||(ma.x+=b.x*c)),void 0!==h;ca||X||q>f.currItem.fitRatio&&(ma[a]+=b[a]*c)},Jb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Vb)return void a.preventDefault();if(!R||"mousedown"!==a.type){if(zb(a,!0)&&a.preventDefault(),Aa("pointerDown"),D){var b=e.arraySearch(hb,a.pointerId,"id");b<0&&(b=hb.length),hb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Hb(a),d=c.length;Y=null,_a(),S&&1!==d||(S=ea=!0,e.bind(window,n,f),P=ha=fa=Q=X=V=T=U=!1,da=null,Aa("firstTouchStart",c),Ja(la,ma),ka.x=ka.y=0,Ja(fb,c[0]),Ja(gb,fb),ib.x=qa.x*oa,jb=[{x:fb.x,y:fb.y}],N=M=Ba(),Pa(q,!0),ub(),vb()),!Z&&d>1&&!ca&&!X&&(r=q,U=!1,Z=T=!0,ka.y=ka.x=0,Ja(la,ma),Ja(cb,c[0]),Ja(db,c[1]),Bb(cb,db,qb),pb.x=Math.abs(qb.x)-ma.x,pb.y=Math.abs(qb.y)-ma.y,$=_=tb(cb,db))}}},Kb=function(a){if(a.preventDefault(),D){var b=e.arraySearch(hb,a.pointerId,"id");if(b>-1){var c=hb[b];c.x=a.pageX,c.y=a.pageY}}if(S){var d=Hb(a);if(da||V||Z)Y=d;else if(ob.x!==qa.x*oa)da="h";else{var f=Math.abs(d[0].x-fb.x)-Math.abs(d[0].y-fb.y);Math.abs(f)>=10&&(da=f>0?"h":"v",Y=d)}}},Lb=function(){if(Y){var a=Y.length;if(0!==a)if(Ja(cb,Y[0]),eb.x=cb.x-fb.x,eb.y=cb.y-fb.y,Z&&a>1){if(fb.x=cb.x,fb.y=cb.y,!eb.x&&!eb.y&&rb(Y[1],db))return;Ja(db,Y[1]),U||(U=!0,Aa("zoomGestureStarted"));var b=tb(cb,db),c=Qb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ha=!0);var d=1,e=Qa(),h=Ra();if(c<e)if(g.pinchToClose&&!ha&&r<=f.currItem.initialZoomLevel){var i=e-c,j=1-i/(e/1.2);Ca(j),Aa("onPinchClose",j),fa=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>h&&(d=(c-h)/(6*e),d>1&&(d=1),c=h+d*e);d<0&&(d=0),$=b,Bb(cb,db,mb),ka.x+=mb.x-qb.x,ka.y+=mb.y-qb.y,Ja(qb,mb),ma.x=Ia("x",c),ma.y=Ia("y",c),P=c>q,q=c,Ea()}else{if(!da)return;if(ea&&(ea=!1,Math.abs(eb.x)>=10&&(eb.x-=Y[0].x-gb.x),Math.abs(eb.y)>=10&&(eb.y-=Y[0].y-gb.y)),fb.x=cb.x,fb.y=cb.y,0===eb.x&&0===eb.y)return;if("v"===da&&g.closeOnVerticalDrag&&!wb()){ka.y+=eb.y,ma.y+=eb.y;var k=Db();return Q=!0,Aa("onVerticalDrag",k),Ca(k),void Ea()}Cb(Ba(),cb.x,cb.y),V=!0,aa=f.currItem.bounds;var l=Ib("x",eb);l||(Ib("y",eb),Ka(ma),Ea())}}},Mb=function(a){if(L.isOldAndroid){if(R&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(R),R=setTimeout(function(){R=0},600))}Aa("pointerUp"),zb(a,!1)&&a.preventDefault();var b;if(D){var c=e.arraySearch(hb,a.pointerId,"id");if(c>-1)if(b=hb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var h,i=Hb(a),j=i.length;if("mouseup"===a.type&&(j=0),2===j)return Y=null,!0;1===j&&Ja(gb,i[0]),0!==j||da||ca||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Aa("touchRelease",a,b));var k=-1;if(0===j&&(S=!1,e.unbind(window,n,f),ub(),Z?k=0:nb!==-1&&(k=Ba()-nb)),nb=1===j?Ba():-1,h=k!==-1&&k<150?"zoom":"swipe",Z&&j<2&&(Z=!1,1===j&&(h="zoomPointerUp"),Aa("zoomGestureEnded")),Y=null,V||U||ca||Q)if(_a(),O||(O=Nb()),O.calculateSwipeSpeed("x"),Q){var l=Db();if(l<g.verticalDragRange)f.close();else{var m=ma.y,o=ga;ab("verticalDrag",0,1,300,e.easing.cubic.out,function(a){ma.y=(f.currItem.initialPosition.y-m)*a+m,Ca((1-o)*a+o),Ea()}),Aa("onVerticalDrag",1)}}else{if((X||ca)&&0===j){var p=Pb(h,O);if(p)return;h="zoomPointerUp"}if(!ca)return"swipe"!==h?void Rb():void(!X&&q>f.currItem.fitRatio&&Ob(O))}},Nb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){jb.length>1?(a=Ba()-N+50,b=jb[jb.length-2][d]):(a=Ba()-M,b=gb[d]),c.lastFlickOffset[d]=fb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(ma[a]>aa.min[a]?c.backAnimDestination[a]=aa.min[a]:ma[a]<aa.max[a]&&(c.backAnimDestination[a]=aa.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,ab("bounceZoomPan"+a,ma[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){ma[a]=b,Ea()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,ma[a]+=c.distanceOffset[a])},panAnimLoop:function(){if(Xa.zoomPan&&(Xa.zoomPan.raf=F(c.panAnimLoop),c.now=Ba(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ea(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05))return ma.x=Math.round(ma.x),ma.y=Math.round(ma.y),Ea(),void Za("zoomPan")}};return c},Ob=function(a){if(a.calculateSwipeSpeed("y"),aa=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05)return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;$a("zoomPan"),a.lastNow=Ba(),a.panAnimLoop()},Pb=function(a,b){var c;ca||(lb=k);var d;if("swipe"===a){var h=fb.x-gb.x,i=b.lastFlickDist.x<10;h>30&&(i||b.lastFlickOffset.x>20)?d=-1:h<-30&&(i||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(k+=d,k<0?(k=g.loop?Xb()-1:0,j=!0):k>=Xb()&&(k=g.loop?0:Xb()-1,j=!0),j&&!g.loop||(ra+=d,oa-=d,c=!0));var l,m=qa.x*oa,n=Math.abs(m-ob.x);return c||m>ob.x==b.lastFlickSpeed.x>0?(l=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,l=Math.min(l,400),l=Math.max(l,250)):l=333,lb===k&&(c=!1),ca=!0,Aa("mainScrollAnimStart"),ab("mainScroll",ob.x,m,l,e.easing.cubic.out,Ha,function(){_a(),ca=!1,lb=-1,(c||lb!==k)&&f.updateCurrItem(),Aa("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Qb=function(a){return 1/_*a*r},Rb=function(){var a=q,b=Qa(),c=Ra();q<b?a=b:q>c&&(a=c);var d,g=ga;return fa&&!P&&!ha&&q<b?(f.close(),!0):(fa&&(d=function(a){Ca((1-g)*a+g)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};wa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){y=a+b,z=a+c,A=a+d,B=e?a+e:""};D=L.pointerEvent,D&&L.touch&&(L.touch=!1),D?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):L.touch?(a("touch","start","move","end","cancel"),E=!0):a("mouse","down","move","up"),n=z+" "+A+" "+B,o=y,D&&!E&&(E=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=E,p[y]=Jb,p[z]=Kb,p[A]=Mb,B&&(p[B]=p[A]),L.touch&&(o+=" mousedown",n+=" mousemove mouseup",p.mousedown=p[y],p.mousemove=p[z],p.mouseup=p[A]),E||(g.allowPanToNext=!1)}}});var Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb=function(b,c,d,h){Sb&&clearTimeout(Sb),Vb=!0,Ub=!0;var i;b.initialLayout?(i=b.initialLayout,b.initialLayout=null):i=g.getThumbBoundsFn&&g.getThumbBoundsFn(k);var l=d?g.hideAnimationDuration:g.showAnimationDuration,m=function(){Za("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Ca(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Aa("initialZoom"+(d?"OutEnd":"InEnd"))),h&&h(),Vb=!1};if(!l||!i||void 0===i.x)return Aa("initialZoom"+(d?"Out":"In")),q=b.initialZoomLevel,Ja(ma,b.initialPosition),Ea(),a.style.opacity=d?0:1,Ca(1),void(l?setTimeout(function(){m()},l):m());!function(){var c=j,h=!f.currItem.src||f.currItem.loadError||g.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(q=i.w/b.w,ma.x=i.x,ma.y=i.y-I,f[h?"template":"bg"].style.opacity=.001,Ea()),$a("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),h&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Sb=setTimeout(function(){if(Aa("initialZoom"+(d?"Out":"In")),d){var f=i.w/b.w,g={x:ma.x,y:ma.y},j=q,k=ga,n=function(b){1===b?(q=f,ma.x=i.x,ma.y=i.y-K):(q=(f-j)*b+j,ma.x=(i.x-g.x)*b+g.x,ma.y=(i.y-K-g.y)*b+g.y),Ea(),h?a.style.opacity=1-b:Ca(k-b*k)};c?ab("initialZoom",0,1,l,e.easing.cubic.out,n,m):(n(1),Sb=setTimeout(m,l+20))}else q=b.initialZoomLevel,Ja(ma,b.initialPosition),Ea(),Ca(1),h?a.style.opacity=1:Ca(1),Sb=setTimeout(m,l+20)},d?25:90)}()},$b={},_b=[],ac={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Tb.length}},bc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},cc=function(a,b,c){var d=a.bounds;d.center.x=Math.round(($b.x-b)/2),d.center.y=Math.round(($b.y-c)/2)+a.vGap.top,d.max.x=b>$b.x?Math.round($b.x-b):d.center.x,d.max.y=c>$b.y?Math.round($b.y-c)+a.vGap.top:d.center.y,d.min.x=b>$b.x?0:d.center.x,d.min.y=c>$b.y?a.vGap.top:d.center.y},dc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Aa("parseVerticalMargin",a)),$b.x=b.x,$b.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=$b.x/a.w,f=$b.y/a.h;a.fitRatio=e<f?e:f;var h=g.scaleMode;"orig"===h?c=1:"fit"===h&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=bc())}if(!c)return;return cc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=bc(),a.initialPosition=a.bounds.center,a.bounds},ec=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,hc(b,d,b===f.currItem&&va),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},fc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},gc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=g.errorMsg.replace("%url%",a.src),!0},hc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},ic=function(){if(_b.length){for(var a,b=0;b<_b.length;b++)a=_b[b],a.holder.index===a.index&&ec(a.index,a.item,a.baseDiv,a.img,0,a.clearPlaceholder);_b=[]}};wa("Controller",{publicMethods:{lazyLoadItem:function(a){a=xa(a);var b=Wb(a);b&&(!b.loaded&&!b.loading||v)&&(Aa("gettingData",a,b),b.src&&fc(b))},initController:function(){e.extend(g,ac,!0),f.items=Tb=c,Wb=f.getItemAt,Xb=g.getNumItemsFn,Yb=g.loop,Xb()<3&&(g.loop=!1),za("beforeChange",function(a){var b,c=g.preload,d=null===a||a>=0,e=Math.min(c[0],Xb()),h=Math.min(c[1],Xb());for(b=1;b<=(d?h:e);b++)f.lazyLoadItem(k+b);for(b=1;b<=(d?e:h);b++)f.lazyLoadItem(k-b)}),za("initialLayout",function(){f.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(k)}),za("mainScrollAnimComplete",ic),za("initialZoomInEnd",ic),za("destroy",function(){for(var a,b=0;b<Tb.length;b++)a=Tb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);_b=null})},getItemAt:function(a){return a>=0&&(void 0!==Tb[a]&&Tb[a])},allowProgressiveImg:function(){return g.forceProgressiveLoading||!E||g.mouseUsed||screen.width>1200},setContent:function(a,b){g.loop&&(b=xa(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,i=f.getItemAt(b);if(!i)return void(a.el.innerHTML="");Aa("gettingData",b,i),a.index=b,a.item=i;var j=i.container=e.createEl("pswp__zoom-wrap");if(!i.src&&i.html&&(i.html.tagName?j.appendChild(i.html):j.innerHTML=i.html),gc(i),dc(i,na),!i.src||i.loadError||i.loaded)i.src&&!i.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=i.src,hc(i,d),ec(0,i,j,d));else{if(i.loadComplete=function(c){if(h){if(a&&a.index===b){if(gc(c,!0))return c.loadComplete=c.img=null,dc(c,na),Fa(c),void(a.index===k&&f.updateCurrZoomItem());c.imageAppended?!Vb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):L.transform&&(ca||Vb)?_b.push({item:c,baseDiv:j,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ec(0,c,j,c.img,0,!0)}c.loadComplete=null,c.img=null,Aa("imageLoadComplete",b,c)}},e.features.transform){var l="pswp__img pswp__img--placeholder";l+=i.msrc?"":" pswp__img--placeholder--blank";var m=e.createEl(l,i.msrc?"img":"");i.msrc&&(m.src=i.msrc),hc(i,m),j.appendChild(m),i.placeholder=m}i.loading||fc(i),f.allowProgressiveImg()&&(!Ub&&L.transform?_b.push({item:i,baseDiv:j,img:i.img,index:b,holder:a}):ec(0,i,j,i.img,0,!0))}Ub||b!==k?Fa(i):(ba=j.style,Zb(i,d||i.img)),a.el.innerHTML="",a.el.appendChild(j)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var jc,kc={},lc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};wa("Tap",{publicMethods:{initTap:function(){za("firstTouchStart",f.onTapStart),za("touchRelease",f.onTapRelease),za("destroy",function(){kc={},jc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(jc),jc=null)},onTapRelease:function(a,b){if(b&&!V&&!T&&!Ya){var c=b;if(jc&&(clearTimeout(jc),jc=null,sb(c,kc)))return void Aa("doubleTap",c);if("mouse"===b.type)return void lc(a,b,"mouse");if("BUTTON"===a.target.tagName.toUpperCase()||e.hasClass(a.target,"pswp__single-tap"))return void lc(a,b);Ja(kc,c),jc=setTimeout(function(){lc(a,b),jc=null},300)}}}});var mc;wa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){J||(E?za("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){mc={};var c="wheel mousewheel DOMMouseScroll";za("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),za("unbindEvents",function(){mc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),q<1?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};za("resize",g),za("afterChange",g),za("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),za("pointerUp",h),b||g()},handleMouseWheel:function(a){if(q<=f.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||Ya||S?a.preventDefault():C&&Math.abs(a.deltaY)>2&&(j=!0,f.close())),!0;if(a.stopPropagation(),mc.x=0,"deltaX"in a)1===a.deltaMode?(mc.x=18*a.deltaX,mc.y=18*a.deltaY):(mc.x=a.deltaX,mc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(mc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?mc.y=-.16*a.wheelDeltaY:mc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;mc.y=a.detail}Pa(q,!0);var b=ma.x-mc.x,c=ma.y-mc.y;(g.modal||b<=aa.min.x&&b>=aa.max.x&&c<=aa.min.y&&c>=aa.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:na.x/2+pa.x,y:na.y/2+pa.y};var c=g.getDoubleTapZoom(!0,f.currItem),d=q===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc={history:!0,galleryUID:1},Ac=function(){return xc.hash.substring(1)},Bc=function(){nc&&clearTimeout(nc),pc&&clearTimeout(pc)},Cc=function(){var a=Ac(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(g.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Tb.length;c++)if(Tb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Dc=function(){if(pc&&clearTimeout(pc),Ya||S)return void(pc=setTimeout(Dc,500));qc?clearTimeout(oc):qc=!0;var a=k+1,b=Wb(k);b.hasOwnProperty("pid")&&(a=b.pid);var c=tc+"&gid="+g.galleryUID+"&pid="+a;uc||xc.hash.indexOf(c)===-1&&(wc=!0);var d=xc.href.split("#")[0]+"#"+c;yc?"#"+c!==window.location.hash&&history[uc?"replaceState":"pushState"]("",document.title,d):uc?xc.replace(d):xc.hash=c,uc=!0,oc=setTimeout(function(){qc=!1},60)};wa("History",{publicMethods:{initHistory:function(){if(e.extend(g,zc,!0),g.history){xc=window.location,wc=!1,vc=!1,uc=!1,tc=Ac(),yc="pushState"in history,tc.indexOf("gid=")>-1&&(tc=tc.split("&gid=")[0],tc=tc.split("?gid=")[0]),za("afterChange",f.updateURL),za("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){sc=!0,vc||(wc?history.back():tc?xc.hash=tc:yc?history.pushState("",document.title,xc.pathname+xc.search):xc.hash=""),Bc()};za("unbindEvents",function(){j&&a()}),za("destroy",function(){sc||a()}),za("firstUpdate",function(){k=Cc().pid});var b=tc.indexOf("pid=");b>-1&&(tc=tc.substring(0,b),"&"===tc.slice(-1)&&(tc=tc.slice(0,-1))),setTimeout(function(){h&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){if(Ac()===tc)return vc=!0,void f.close();qc||(rc=!0,f.goTo(Cc().pid),rc=!1)},updateURL:function(){Bc(),rc||(uc?nc=setTimeout(Dc,800):Dc())}}}),e.extend(f,bb)}})},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){function b(b){var c=m(b).slideSelector;return b.find(c).map(function(b){var c=a(this).data("index",b),d=this.tagName.toUpperCase();return"A"===d?this.hash?c=a(this.hash):(c=c.find("img").eq(0),c.data("original-src",this.href)):"IMG"!==d&&(c=c.find("img")),c[0]})}function c(a){return function(b){var c=a.eq(b),d=c.offset(),e=c[0].width;return{x:d.left,y:d.top,w:e}}}function d(b,c){var d=a.Deferred(),e=c.data("original-src-"+b);return e?d.resolve(e):a("<img>").on("load",function(){d.resolve(this[b])}).attr("src",c.attr("src")),d.promise()}function e(a){return d("height",a)}function g(a){return d("width",a)}function i(b){var c=decodeURI(b.data("original-src")||b.attr("src")),d=c.match(/(\d+)[*×x](\d+)/);if(null!==d){var h=function(){var b=a.Deferred();return setTimeout(function(){b.resolve(Number(d[1]),Number(d[2]))},0),{v:b.promise()}}();if("object"===(void 0===h?"undefined":f(h)))return h.v}return a.when(g(b),e(b))}function k(){var b=a(this),c=b.data("original-src")||b.attr("src"),d=a.Deferred();return"IMG"!==this.tagName?d.resolve({html:this.innerHTML}):i(b).done(function(a,e){function f(a,b){var c,d=a.parent();if(d.length)return c=d.find(b),c.length?c.html():f(d,b)}var g,h,i,j=b.attr("src");g=(h=b.data("caption-class"))?f(b,"."+h):(i=b.closest("figure").find("figcaption"))&&i.length?i.html():b.attr("alt"),d.resolve({w:a,h:e,src:c,msrc:j,title:g})}),d.promise()}function l(b){var c=b.map(k).get(),d=a.Deferred();return a.when.apply(a,c).done(function(){var a=Array.prototype.slice.call(arguments);d.resolve(a)}),d.promise()}function m(a){return a.data("photoswipeOptions")}function n(a){a.data("pswp-uid")||a.data("pswp-uid",v++)}function o(b,d,e,f){var g=a.extend(m(d).globalOptions,{index:b,getThumbBoundsFn:c(e),galleryUID:d.data("pswp-uid")}),i=new h.default(u[0],j.default,f,g);a.each(m(d).events,function(a,b){i.listen(a,b)}),i.init()}function p(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=parseInt(e[1],10))}return b}function q(a){var c=p();c.pid&&c.gid&&function(){var d=a[c.gid-1],e=c.pid-1,f=b(d);l(f).done(function(a){o(e,d,f,a)})}()}function r(b,c,d){b.on("click.photoswipe",m(b).slideSelector,function(e){e.preventDefault(),o(a(this).data("index"),b,c,d)})}function s(a){a.off("click.photoswipe")}function t(a){var c=b(a);l(c).done(function(b){s(a),r(a,c,b)})}var u=a('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>').appendTo("body"),v=1;a.fn.photoSwipe=function(){var c=arguments.length<=0||void 0===arguments[0]?"img":arguments[0],d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],f={bgOpacity:.973,showHideOpacity:!0},g=a.extend(f,d),h=[],i="update"===c;return this.each(function(){if(i)return void t(a(this));var d=a(this).data("photoswipeOptions",{slideSelector:c,globalOptions:g,events:e}),f=b(d),j=l(f);n(d),h.push(d),j.done(function(a){r(d,f,a)})}),i||q(h),this},a.fn.photoSwipe.PhotoSwipe=h.default}Object.defineProperty(c,"__esModule",{value:!0}),c.PhotoSwipe=c.default=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=a("photoswipe"),h=d(g),i=a("./libs/photoswipe-ui-default"),j=d(i);e(jQuery),c.default=e,c.PhotoSwipe=h.default},{"./libs/photoswipe-ui-default":3,photoswipe:1}],3:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(a,e){"function"==typeof define&&define.amd?define(e):"object"===(void 0===c?"undefined":d(c))?b.exports=e():a.PhotoSwipeUI_Default=e()}(void 0,function(){return function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),!!c.href&&(!!c.hasAttribute("download")||(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1))},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){2===++J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&a<.95?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&b<.9?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){(a=!1)&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;g<f;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,
C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event,C(d,"ui--over-close",I(a.target||a.srcElement))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){if(j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return a.template[this.enterK]();a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}}})},{}]},{},[2]),function(a){"use strict";"object"==typeof module&&"object"==typeof module.exports?a(require("jquery"),window,document):a(jQuery,window,document)}(function(a,b,c,d){"use strict";if(!b.history.pushState)return a.fn.smoothState=function(){return this},void(a.fn.smoothState.options={});if(!a.fn.smoothState){var e=a("html, body"),f=b.console,g={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",prefetchBlacklist:".no-prefetch",locationHeader:"X-SmoothState-Location",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(a){return a},alterChangeState:function(a,b,c){return a},onBefore:function(a,b){},onStart:{duration:0,render:function(a){}},onProgress:{duration:0,render:function(a){}},onReady:{duration:0,render:function(a,b){a.html(b)}},onAfter:function(a,b){}},h={isExternal:function(a){var c=a.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof c[1]&&c[1].length>0&&c[1].toLowerCase()!==b.location.protocol||"string"==typeof c[2]&&c[2].length>0&&c[2].replace(new RegExp(":("+{"http:":80,"https:":443}[b.location.protocol]+")?$"),"")!==b.location.host},stripHash:function(a){return a.replace(/#.*/,"")},isHash:function(a,c){c=c||b.location.href;var d=a.indexOf("#")>-1,e=h.stripHash(a)===h.stripHash(c);return d&&e},translate:function(b){var c={dataType:"html",type:"GET"};return b="string"==typeof b?a.extend({},c,{url:b}):a.extend({},c,b)},shouldLoadAnchor:function(a,b,c){var e=a.prop("href");return!(h.isExternal(e)||h.isHash(e)||a.is(b)||a.prop("target")||typeof c!==d&&""!==c&&a.prop("href").search(c)===-1)},clearIfOverCapacity:function(a,b){return Object.keys||(Object.keys=function(a){var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),Object.keys(a).length>b&&(a={}),a},storePageIn:function(b,c,d,e,f,g){var h=a("<html></html>").append(a(d));return void 0===f&&(f={}),void 0===g&&(g=c),b[c]={status:"loaded",title:h.find("title").first().text(),html:h.find("#"+e),doc:d,state:f,destUrl:g},b},triggerAllAnimationEndEvent:function(b,c){c=" "+c||"";var d=0,e=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),d++)},f=function(c){a(c.delegateTarget).is(b)&&(c.stopPropagation(),0===--d&&b.trigger("allanimationend"))};b.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",e),b.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",f),b.on("allanimationend"+c,function(){d=0,h.redraw(b)})},redraw:function(a){a.height()}},i=function(c){if(null!==c.state){var d=b.location.href,e=a("#"+c.state.id),f=e.data("smoothState"),g=f.href!==d&&!h.isHash(d,f.href),i=c.state!==f.cache[f.href].state;(g||i)&&(i&&f.clear(f.href),f.load(d,!1))}},j=function(g,i){var j=a(g),k=j.prop("id"),l=null,m=!1,n={},o={},p=b.location.href,q=function(a){a=a||!1,a&&n.hasOwnProperty(a)?delete n[a]:n={},j.data("smoothState").cache=n},r=function(b,c){c=c||a.noop;var d=h.translate(b);if(n=h.clearIfOverCapacity(n,i.cacheLength),!n.hasOwnProperty(d.url)||void 0!==d.data){n[d.url]={status:"fetching"};var e=a.ajax(d);e.done(function(a){h.storePageIn(n,d.url,a,k),j.data("smoothState").cache=n}),e.fail(function(){n[d.url].status="error"}),i.locationHeader&&e.always(function(a,b,c){var e=a.statusCode?a:c,f=e.getResponseHeader(i.locationHeader);f&&(n[d.url].destUrl=f)}),c&&e.always(c)}},s=function(){if(l){var b=a(l,j);if(b.length){var c=b.offset().top;e.scrollTop(c)}l=null}},t=function(d){var g="#"+k,h=n[d]?a(n[d].html.html()):null;h.length?(c.title=n[d].title,j.data("smoothState").href=d,i.loadingClass&&e.removeClass(i.loadingClass),i.onReady.render(j,h),j.one("ss.onReadyEnd",function(){m=!1,i.onAfter(j,h),i.scroll&&s(),B(j)}),b.setTimeout(function(){j.trigger("ss.onReadyEnd")},i.onReady.duration)):!h&&i.debug&&f?f.warn("No element with an id of "+g+" in response from "+d+" in "+n):b.location=d},u=function(a,c,d){var g=h.translate(a);void 0===c&&(c=!0),void 0===d&&(d=!0);var l=!1,m=!1,p={loaded:function(){var a=l?"ss.onProgressEnd":"ss.onStartEnd";if(m&&l?m&&t(g.url):j.one(a,function(){t(g.url),d||q(g.url)}),c){var e=n[g.url].destUrl;o=i.alterChangeState({id:k},n[g.url].title,e),n[g.url].state=o,b.history.pushState(o,n[g.url].title,e)}m&&!d&&q(g.url)},fetching:function(){l||(l=!0,j.one("ss.onStartEnd",function(){i.loadingClass&&e.addClass(i.loadingClass),i.onProgress.render(j),b.setTimeout(function(){j.trigger("ss.onProgressEnd"),m=!0},i.onProgress.duration)})),b.setTimeout(function(){n.hasOwnProperty(g.url)&&p[n[g.url].status]()},10)},error:function(){i.debug&&f?f.log("There was an error loading: "+g.url):b.location=g.url}};n.hasOwnProperty(g.url)||r(g),i.onStart.render(j),b.setTimeout(function(){i.scroll&&e.scrollTop(0),j.trigger("ss.onStartEnd")},i.onStart.duration),p[n[g.url].status]()},v=function(b){var c,d=a(b.currentTarget);h.shouldLoadAnchor(d,i.blacklist,i.hrefRegex)&&!m&&(b.stopPropagation(),c=h.translate(d.prop("href")),c=i.alterRequest(c),r(c))},w=function(b){var c=a(b.currentTarget);if(!b.metaKey&&!b.ctrlKey&&h.shouldLoadAnchor(c,i.blacklist,i.hrefRegex)&&(b.stopPropagation(),b.preventDefault(),!z())){A();var d=h.translate(c.prop("href"));m=!0,l=c.prop("hash"),d=i.alterRequest(d),i.onBefore(c,j),u(d)}},x=function(b){var c=a(b.currentTarget);if(!c.is(i.blacklist)&&(b.preventDefault(),b.stopPropagation(),!z())){A();var e={url:c.prop("action"),data:c.serialize(),type:c.prop("method")};m=!0,e=i.alterRequest(e),"get"===e.type.toLowerCase()&&(e.url=e.url+"?"+e.data),i.onBefore(c,j),u(e,d,i.allowFormCaching)}},y=0,z=function(){var a=null===i.repeatDelay,b=parseInt(Date.now())>y;return!(a||b)},A=function(){y=parseInt(Date.now())+parseInt(i.repeatDelay)},B=function(a){i.anchors&&i.prefetch&&a.find(i.anchors).not(i.prefetchBlacklist).on(i.prefetchOn,null,v)},C=function(){var a=j.prop("class");j.removeClass(a),h.redraw(j),j.addClass(a)};return i=a.extend({},a.fn.smoothState.options,i),null===b.history.state?(o=i.alterChangeState({id:k},c.title,p),b.history.replaceState(o,c.title,p)):o={},h.storePageIn(n,p,c.documentElement.outerHTML,k,o),h.triggerAllAnimationEndEvent(j,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),function(a){i.anchors&&(a.on("click",i.anchors,w),B(a)),i.forms&&a.on("submit",i.forms,x)}(j),{href:p,cache:n,clear:q,load:u,fetch:r,restartCSSAnimations:C}},k=function(b){return this.each(function(){var c=this.tagName.toLowerCase();this.id&&"body"!==c&&"html"!==c&&!a.data(this,"smoothState")?a.data(this,"smoothState",new j(this,b)):!this.id&&f?f.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==c&&"html"!==c||!f||f.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};b.onpopstate=i,a.smoothStateUtility=h,a.fn.smoothState=k,a.fn.smoothState.options=g}}),$("#map").length&&function(a,b,c){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var b=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,b?this._withAnimation:this._noAnimation),this._markerCluster=b?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this;if(!this._map)return this._needsClustering.push(a),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this._topClusterLevel._recalculateBounds();var b=a,c=this._map.getZoom();if(a.__parent)for(;b.__parent._zoom>=c;)b=b.__parent;return this._currentShownBounds.contains(b.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,b):this._animationAddLayerNonAnimated(a,b)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this._topClusterLevel._recalculateBounds(),a.off("move",this._childMarkerMoved,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push(a),this):(this._nonPointGroup.removeLayer(a),this)},addLayers:function(a){if(!L.Util.isArray(a))return this.addLayer(a);var b,c=this._featureGroup,d=this._nonPointGroup,e=this.options.chunkedLoading,f=this.options.chunkInterval,g=this.options.chunkProgress,h=a.length,i=0,j=!0;if(this._map){var k=(new Date).getTime(),l=L.bind(function(){for(var m=(new Date).getTime();i<h;i++){if(e&&i%200==0){if((new Date).getTime()-m>f)break}if((b=a[i])instanceof L.LayerGroup)j&&(a=a.slice(),j=!1),this._extractNonGroupLayers(b,a),h=a.length;else if(b.getLatLng){if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),b.__parent&&2===b.__parent.getChildCount())){var n=b.__parent.getAllChildMarkers(),o=n[0]===b?n[1]:n[0];c.removeLayer(o)}}else d.addLayer(b)}g&&g(i,h,(new Date).getTime()-k),i===h?(this._topClusterLevel._recalculateBounds(),this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(l,this.options.chunkDelay)},this);l()}else for(var m=this._needsClustering;i<h;i++)b=a[i],b instanceof L.LayerGroup?(j&&(a=a.slice(),j=!1),this._extractNonGroupLayers(b,a),h=a.length):b.getLatLng?this.hasLayer(b)||m.push(b):d.addLayer(b);return this},removeLayers:function(a){var b,c,d=a.length,e=this._featureGroup,f=this._nonPointGroup,g=!0;if(!this._map){for(b=0;b<d;b++)c=a[b],c instanceof L.LayerGroup?(g&&(a=a.slice(),g=!1),this._extractNonGroupLayers(c,a),d=a.length):(this._arraySplice(this._needsClustering,c),f.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push(c));return this}if(this._unspiderfy){this._unspiderfy();var h=a.slice(),i=d;for(b=0;b<i;b++)c=h[b],c instanceof L.LayerGroup?(this._extractNonGroupLayers(c,h),i=h.length):this._unspiderfyLayer(c)}for(b=0;b<d;b++)c=a[b],c instanceof L.LayerGroup?(g&&(a=a.slice(),g=!1),this._extractNonGroupLayers(c,a),d=a.length):c.__parent?(this._removeLayer(c,!0,!0),e.hasLayer(c)&&(e.removeLayer(c),c.clusterShow&&c.clusterShow())):f.removeLayer(c);return this._topClusterLevel._recalculateBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),e.eachLayer(function(a){a instanceof L.MarkerCluster&&a._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off("move",this._childMarkerMoved,this),delete a.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var b=this._needsClustering.length-1;b>=0;b--)a.extend(this._needsClustering[b].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,b){var c,d=this._needsClustering.slice(),e=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),c=d.length-1;c>=0;c--)e.indexOf(d[c])===-1&&a.call(b,d[c]);this._nonPointGroup.eachLayer(a,b)},getLayers:function(){var a=[];return this.eachLayer(function(b){a.push(b)}),a},getLayer:function(a){var b=null;return a=parseInt(a,10),this.eachLayer(function(c){L.stamp(c)===a&&(b=c)}),b},hasLayer:function(a){if(!a)return!1;var b,c=this._needsClustering;for(b=c.length-1;b>=0;b--)if(c[b]===a)return!0;for(c=this._needsRemoving,b=c.length-1;b>=0;b--)if(c[b]===a)return!1;return!(!a.__parent||a.__parent._group!==this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,b){"function"!=typeof b&&(b=function(){});var c=function(){!a._icon&&!a.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",c,this),this.off("animationend",c,this),a._icon?b():a.__parent._icon&&(this.once("spiderfied",b,this),a.__parent.spiderfy()))};if(a._icon&&this._map.getBounds().contains(a.getLatLng()))b();else if(a.__parent._zoom<this._map.getZoom())this._map.on("moveend",c,this),this._map.panTo(a.getLatLng());else{var d=function(){this._map.off("movestart",d,this),d=null};this._map.on("movestart",d,this),this._map.on("moveend",c,this),this.on("animationend",c,this),a.__parent.zoomToBounds(),d&&c.call(this)}},onAdd:function(a){this._map=a;var b,c,d;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,b=0,c=this._needsRemoving.length;b<c;b++)d=this._needsRemoving[b],this._removeLayer(d,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var b=a;b&&!b._icon;)b=b.__parent;return b||null},_arraySplice:function(a,b){for(var c=a.length-1;c>=0;c--)if(a[c]===b)return a.splice(c,1),!0},_removeFromGridUnclustered:function(a,b){for(var c=this._map,d=this._gridUnclustered;b>=0&&d[b].removeObject(a,c.project(a.getLatLng(),b));b--);},_childMarkerMoved:function(a){this._ignoreMove||(a.target._latlng=a.oldLatLng,this.removeLayer(a.target),a.target._latlng=a.latlng,this.addLayer(a.target))},_removeLayer:function(a,b,c){var d=this._gridClusters,e=this._gridUnclustered,f=this._featureGroup,g=this._map;b&&this._removeFromGridUnclustered(a,this._maxZoom);var h,i=a.__parent,j=i._markers;for(this._arraySplice(j,a);i&&(i._childCount--,i._boundsNeedUpdate=!0,!(i._zoom<0));)b&&i._childCount<=1?(h=i._markers[0]===a?i._markers[1]:i._markers[0],d[i._zoom].removeObject(i,g.project(i._cLatLng,i._zoom)),e[i._zoom].addObject(h,g.project(h.getLatLng(),i._zoom)),this._arraySplice(i.__parent._childClusters,i),i.__parent._markers.push(h),h.__parent=i.__parent,i._icon&&(f.removeLayer(i),c||f.addLayer(h))):c&&i._icon||i._updateIcon(),i=i.__parent;delete a.__parent},_isOrIsParent:function(a,b){for(;b;){if(a===b)return!0;b=b.parentNode}return!1},fire:function(a,b,c){if(b&&b.layer instanceof L.MarkerCluster){if(b.originalEvent&&this._isOrIsParent(b.layer._icon,b.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,b,c)},listens:function(a,b){return L.FeatureGroup.prototype.listens.call(this,a,b)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,b)},_defaultIconCreateFunction:function(a){var b=a.getChildCount(),c=" marker-cluster-";return c+=b<10?"small":b<100?"medium":"large",new L.DivIcon({html:"<div><span>"+b+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,b=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick;(b||d)&&this.on("clusterclick",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){for(var b=a.layer,c=b;1===c._childClusters.length;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===b._childCount&&this.options.spiderfyOnMaxZoom?b.spiderfy():this.options.zoomToBoundsOnClick&&b.zoomToBounds(),a.originalEvent&&13===a.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(a){var b=this._map;this._inZoomAnimation||(this._shownPolygon&&b.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),b.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,b=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this._map;(a||c)&&this.off("clusterclick",this._zoomOrSpiderfy,this),b&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=this._map.getMaxZoom(),b=this.options.maxClusterRadius,c=b;"function"!=typeof b&&(c=function(){return b}),this.options.disableClusteringAtZoom&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var d=a;d>=0;d--)this._gridClusters[d]=new L.DistanceGrid(c(d)),this._gridUnclustered[d]=new L.DistanceGrid(c(d));this._topClusterLevel=new this._markerCluster(this,-1)},_addLayer:function(a,b){var c,d,e=this._gridClusters,f=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on("move",this._childMarkerMoved,this);b>=0;b--){c=this._map.project(a.getLatLng(),b);var g=e[b].getNearObject(c);if(g)return g._addChild(a),void(a.__parent=g);if(g=f[b].getNearObject(c)){var h=g.__parent;h&&this._removeLayer(g,!1);var i=new this._markerCluster(this,b,g,a);e[b].addObject(i,this._map.project(i._cLatLng,b)),g.__parent=i,a.__parent=i;var j=i;for(d=b-1;d>h._zoom;d--)j=new this._markerCluster(this,d,j),e[d].addObject(j,this._map.project(g.getLatLng(),d));return h._addChild(j),void this._removeFromGridUnclustered(g,b)}f[b].addObject(a,c)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(a){var b=this._maxLat;return void 0!==b&&(a.getNorth()>=b&&(a._northEast.lat=1/0),a.getSouth()<=-b&&(a._southWest.lat=-(1/0))),a},_animationAddLayerNonAnimated:function(a,b){if(b===a)this._featureGroup.addLayer(a);else if(2===b._childCount){b._addToMap();var c=b.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else b._updateIcon()},_extractNonGroupLayers:function(a,b){var c,d=a.getLayers(),e=0;for(b=b||[];e<d.length;e++)c=d[e],c instanceof L.LayerGroup?this._extractNonGroupLayers(c,b):b.push(c);return b},_overrideMarkerIcon:function(a){return a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-(1/0),-(1/0)),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,b){this._animationAddLayerNonAnimated(a,b)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,b){var c,d=this._getExpandedVisibleBounds(),e=this._featureGroup;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,0,function(f){var g,h=f._latlng,i=f._markers;for(d.contains(h)||(h=null),f._isSingleParent()&&a+1===b?(e.removeLayer(f),f._recursivelyAddChildrenToMap(null,b,d)):(f.clusterHide(),f._recursivelyAddChildrenToMap(h,b,d)),c=i.length-1;c>=0;c--)g=i[c],d.contains(g._latlng)||e.removeLayer(g)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,b),e.eachLayer(function(a){a instanceof L.MarkerCluster||!a._icon||a.clusterShow()}),this._topClusterLevel._recursively(d,a,b,function(a){a._recursivelyRestoreChildPositions(b)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,0,function(a){e.removeLayer(a),a.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,b){this._animationZoomOutSingle(this._topClusterLevel,a-1,b),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,b){var c=this,d=this._featureGroup;d.addLayer(a),b!==a&&(b._childCount>2?(b._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(b.getLatLng())),a.clusterHide(),this._enqueue(function(){d.removeLayer(a),a.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(b,this._map.getMaxZoom(),this._map.getZoom())))}},_animationZoomOutSingle:function(a,b,c){var d=this._getExpandedVisibleBounds();a._recursivelyAnimateChildrenInAndAddSelfToMap(d,b+1,c);var e=this;this._forceLayout(),a._recursivelyBecomeVisible(d,c),this._enqueue(function(){if(1===a._childCount){var f=a._markers[0];this._ignoreMove=!0,f.setLatLng(f.getLatLng()),this._ignoreMove=!1,f.clusterShow&&f.clusterShow()}else a._recursively(d,c,0,function(a){a._recursivelyRemoveChildrenFromMap(d,b+1)});e._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(b.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)},L.MarkerCluster=L.Marker.extend({initialize:function(a,b,c,d){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=a,this._zoom=b,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),d&&this._addChild(d)},getAllChildMarkers:function(a){a=a||[];for(var b=this._childClusters.length-1;b>=0;b--)this._childClusters[b].getAllChildMarkers(a);for(var c=this._markers.length-1;c>=0;c--)a.push(this._markers[c]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var a,b=this._childClusters.slice(),c=this._group._map,d=c.getBoundsZoom(this._bounds),e=this._zoom+1,f=c.getZoom();b.length>0&&d>e;){e++;var g=[];for(a=0;a<b.length;a++)g=g.concat(b[a]._childClusters);b=g}d>e?this._group._map.setView(this._latlng,e):d<=f?this._group._map.setView(this._latlng,f+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,b){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(b||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(b||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-(1/0),a._northEast.lng=-(1/0))},_recalculateBounds:function(){var a,b,c,d,e=this._markers,f=this._childClusters,g=0,h=0,i=this._childCount;if(0!==i){for(this._resetBounds(),a=0;a<e.length;a++)c=e[a]._latlng,this._bounds.extend(c),g+=c.lat,h+=c.lng;for(a=0;a<f.length;a++)b=f[a],b._boundsNeedUpdate&&b._recalculateBounds(),this._bounds.extend(b._bounds),c=b._wLatLng,d=b._childCount,g+=c.lat*d,h+=c.lng*d;this._latlng=this._wLatLng=new L.LatLng(g/i,h/i),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,b,c){this._recursively(a,0,c-1,function(a){var c,d,e=a._markers;for(c=e.length-1;c>=0;c--)d=e[c],d._icon&&(d._setPos(b),d.clusterHide())},function(a){var c,d,e=a._childClusters;for(c=e.length-1;c>=0;c--)d=e[c],d._icon&&(d._setPos(b),d.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,b,c){this._recursively(a,c,0,function(d){d._recursivelyAnimateChildrenIn(a,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),b),d._isSingleParent()&&b-1===c?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(a,b)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(a,b){this._recursively(a,0,b,null,function(a){a.clusterShow()})},_recursivelyAddChildrenToMap:function(a,b,c){this._recursively(c,-1,b,function(d){if(b!==d._zoom)for(var e=d._markers.length-1;e>=0;e--){var f=d._markers[e];c.contains(f._latlng)&&(a&&(f._backupLatlng=f.getLatLng(),f.setLatLng(a),f.clusterHide&&f.clusterHide()),d._group._featureGroup.addLayer(f))}},function(b){b._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var b=this._markers.length-1;b>=0;b--){var c=this._markers[b];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(a-1===this._zoom)for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._restorePosition();else for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,b,c){var d,e;this._recursively(a,-1,b-1,function(a){for(e=a._markers.length-1;e>=0;e--)d=a._markers[e],c&&c.contains(d._latlng)||(a._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(a){for(e=a._childClusters.length-1;e>=0;e--)d=a._childClusters[e],c&&c.contains(d._latlng)||(a._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(a,b,c,d,e){var f,g,h=this._childClusters,i=this._zoom;if(b>i)for(f=h.length-1;f>=0;f--)g=h[f],a.intersects(g._bounds)&&g._recursively(a,b,c,d,e);else if(d&&d(this),e&&this._zoom===c&&e(this),c>i)for(f=h.length-1;f>=0;f--)g=h[f],a.intersects(g._bounds)&&g._recursively(a,b,c,d,e)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var a=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,a}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,b){
var c=this._getCoord(b.x),d=this._getCoord(b.y),e=this._grid,f=e[d]=e[d]||{},g=f[c]=f[c]||[],h=L.Util.stamp(a);this._objectPoint[h]=b,g.push(a)},updateObject:function(a,b){this.removeObject(a),this.addObject(a,b)},removeObject:function(a,b){var c,d,e=this._getCoord(b.x),f=this._getCoord(b.y),g=this._grid,h=g[f]=g[f]||{},i=h[e]=h[e]||[];for(delete this._objectPoint[L.Util.stamp(a)],c=0,d=i.length;c<d;c++)if(i[c]===a)return i.splice(c,1),1===d&&delete h[e],!0},eachObject:function(a,b){var c,d,e,f,g,h,i=this._grid;for(c in i){g=i[c];for(d in g)for(h=g[d],e=0,f=h.length;e<f;e++)a.call(b,h[e])&&(e--,f--)}},getNearObject:function(a){var b,c,d,e,f,g,h,i,j=this._getCoord(a.x),k=this._getCoord(a.y),l=this._objectPoint,m=this._sqCellSize,n=null;for(b=k-1;b<=k+1;b++)if(e=this._grid[b])for(c=j-1;c<=j+1;c++)if(f=e[c])for(d=0,g=f.length;d<g;d++)h=f[d],(i=this._sqDist(l[L.Util.stamp(h)],a))<m&&(m=i,n=h);return n},_getCoord:function(a){return Math.floor(a/this._cellSize)},_sqDist:function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d}},function(){L.QuickHull={getDistant:function(a,b){var c=b[1].lat-b[0].lat;return(b[0].lng-b[1].lng)*(a.lat-b[0].lat)+c*(a.lng-b[0].lng)},findMostDistantPointFromBaseLine:function(a,b){var c,d,e,f=0,g=null,h=[];for(c=b.length-1;c>=0;c--)d=b[c],(e=this.getDistant(d,a))>0&&(h.push(d),e>f&&(f=e,g=d));return{maxPoint:g,newPoints:h}},buildConvexHull:function(a,b){var c=[],d=this.findMostDistantPointFromBaseLine(a,b);return d.maxPoint?(c=c.concat(this.buildConvexHull([a[0],d.maxPoint],d.newPoints)),c=c.concat(this.buildConvexHull([d.maxPoint,a[1]],d.newPoints))):[a[0]]},getConvexHull:function(a){var b,c=!1,d=!1,e=!1,f=!1,g=null,h=null,i=null,j=null,k=null,l=null;for(b=a.length-1;b>=0;b--){var m=a[b];(c===!1||m.lat>c)&&(g=m,c=m.lat),(d===!1||m.lat<d)&&(h=m,d=m.lat),(e===!1||m.lng>e)&&(i=m,e=m.lng),(f===!1||m.lng<f)&&(j=m,f=m.lng)}return d!==c?(l=h,k=g):(l=j,k=i),[].concat(this.buildConvexHull([l,k],a),this.buildConvexHull([k,l],a))}}}(),L.MarkerCluster.include({getConvexHull:function(){var a,b,c=this.getAllChildMarkers(),d=[];for(b=c.length-1;b>=0;b--)a=c[b].getLatLng(),d.push(a);return L.QuickHull.getConvexHull(d)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var a,b=this.getAllChildMarkers(),c=this._group,d=c._map,e=d.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,b.length>=this._circleSpiralSwitchover?a=this._generatePointsSpiral(b.length,e):(e.y+=10,a=this._generatePointsCircle(b.length,e)),this._animationSpiderfy(b,a)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,b){var c,d,e=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),f=e/this._2PI,g=this._2PI/a,h=[];for(h.length=a,c=a-1;c>=0;c--)d=this._circleStartAngle+c*g,h[c]=new L.Point(b.x+f*Math.cos(d),b.y+f*Math.sin(d))._round();return h},_generatePointsSpiral:function(a,b){var c,d=this._group.options.spiderfyDistanceMultiplier,e=d*this._spiralLengthStart,f=d*this._spiralFootSeparation,g=d*this._spiralLengthFactor*this._2PI,h=0,i=[];for(i.length=a,c=a-1;c>=0;c--)h+=f/e+5e-4*c,i[c]=new L.Point(b.x+e*Math.cos(h),b.y+e*Math.sin(h))._round(),e+=g/h;return i},_noanimationUnspiderfy:function(){var a,b,c=this._group,d=c._map,e=c._featureGroup,f=this.getAllChildMarkers();for(c._ignoreMove=!0,this.setOpacity(1),b=f.length-1;b>=0;b--)a=f[b],e.removeLayer(a),a._preSpiderfyLatlng&&(a.setLatLng(a._preSpiderfyLatlng),delete a._preSpiderfyLatlng),a.setZIndexOffset&&a.setZIndexOffset(0),a._spiderLeg&&(d.removeLayer(a._spiderLeg),delete a._spiderLeg);c.fire("unspiderfied",{cluster:this,markers:f}),c._ignoreMove=!1,c._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,b){var c,d,e,f,g=this._group,h=g._map,i=g._featureGroup,j=this._group.options.spiderLegPolylineOptions;for(g._ignoreMove=!0,c=0;c<a.length;c++)f=h.layerPointToLatLng(b[c]),d=a[c],e=new L.Polyline([this._latlng,f],j),h.addLayer(e),d._spiderLeg=e,d._preSpiderfyLatlng=d._latlng,d.setLatLng(f),d.setZIndexOffset&&d.setZIndexOffset(1e6),i.addLayer(d);this.setOpacity(.3),g._ignoreMove=!1,g.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,b){var c,d,e,f,g,h,i=this,j=this._group,k=j._map,l=j._featureGroup,m=this._latlng,n=k.latLngToLayerPoint(m),o=L.Path.SVG,p=L.extend({},this._group.options.spiderLegPolylineOptions),q=p.opacity;for(void 0===q&&(q=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),o?(p.opacity=0,p.className=(p.className||"")+" leaflet-cluster-spider-leg"):p.opacity=q,j._ignoreMove=!0,c=0;c<a.length;c++)d=a[c],h=k.layerPointToLatLng(b[c]),e=new L.Polyline([m,h],p),k.addLayer(e),d._spiderLeg=e,o&&(f=e._path,g=f.getTotalLength()+.1,f.style.strokeDasharray=g,f.style.strokeDashoffset=g),d.setZIndexOffset&&d.setZIndexOffset(1e6),d.clusterHide&&d.clusterHide(),l.addLayer(d),d._setPos&&d._setPos(n);for(j._forceLayout(),j._animationStart(),c=a.length-1;c>=0;c--)h=k.layerPointToLatLng(b[c]),d=a[c],d._preSpiderfyLatlng=d._latlng,d.setLatLng(h),d.clusterShow&&d.clusterShow(),o&&(e=d._spiderLeg,f=e._path,f.style.strokeDashoffset=0,e.setStyle({opacity:q}));this.setOpacity(.3),j._ignoreMove=!1,setTimeout(function(){j._animationEnd(),j.fire("spiderfied",{cluster:i,markers:a})},200)},_animationUnspiderfy:function(a){var b,c,d,e,f,g,h=this,i=this._group,j=i._map,k=i._featureGroup,l=a?j._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):j.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(),n=L.Path.SVG;for(i._ignoreMove=!0,i._animationStart(),this.setOpacity(1),c=m.length-1;c>=0;c--)b=m[c],b._preSpiderfyLatlng&&(b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,g=!0,b._setPos&&(b._setPos(l),g=!1),b.clusterHide&&(b.clusterHide(),g=!1),g&&k.removeLayer(b),n&&(d=b._spiderLeg,e=d._path,f=e.getTotalLength()+.1,e.style.strokeDashoffset=f,d.setStyle({opacity:0})));i._ignoreMove=!1,setTimeout(function(){var a=0;for(c=m.length-1;c>=0;c--)b=m[c],b._spiderLeg&&a++;for(c=m.length-1;c>=0;c--)b=m[c],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),a>1&&k.removeLayer(b),j.removeLayer(b._spiderLeg),delete b._spiderLeg);i._animationEnd(),i.fire("unspiderfied",{cluster:h,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var b,c;for(b in a)for(c=a[b].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_refreshSingleMarkerModeMarkers:function(a){var b,c;for(b in a)c=a[b],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(a,b){var c=this.options.icon;return L.setOptions(c,a),this.setIcon(c),b&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(0,function(a){function b(a){this.$container,this.constraints=null,this.__$tooltip,this.__init(a)}function c(b,c){var d=!0;return a.each(b,function(a,e){if(void 0===c[a]||b[a]!==c[a])return d=!1,!1}),d}function d(b){var c=b.attr("id"),d=c?g.window.document.getElementById(c):null;return d?d===b[0]:a.contains(g.window.document.body,b[0])}var e={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},f="undefined"!=typeof window?window:null,g={hasTouchCapability:!(!f||!("ontouchstart"in f||f.DocumentTouch&&f.document instanceof f.DocumentTouch||f.navigator.maxTouchPoints)),hasTransitions:function(){if(!f)return!1;var a=f.document.body||f.document.documentElement,b=a.style,c="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}(),IE:!1,semVer:"4.1.8",window:f},h=function(){this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__instancesLatestArr=[],this.__plugins={},this._env=g};h.prototype={__bridge:function(b,c,d){if(!c[d]){var f=function(){};f.prototype=b;var g=new f;g.__init&&g.__init(c),a.each(b,function(a,b){0!=a.indexOf("__")&&(c[a]?e.debug&&console.log("The "+a+" method of the "+d+" plugin conflicts with another plugin or native methods"):(c[a]=function(){return g[a].apply(g,Array.prototype.slice.apply(arguments))},c[a].bridged=g))}),c[d]=g}return this},__setWindow:function(a){return g.window=a,this},_getRuler:function(a){return new b(a)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(b){var c=this;if("string"==typeof b){var d=b,e=null;return d.indexOf(".")>0?e=c.__plugins[d]:a.each(c.__plugins,function(a,b){if(b.name.substring(b.name.length-d.length-1)=="."+d)return e=b,!1}),e}if(b.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return c.__plugins[b.name]=b,b.core&&c.__bridge(b.core,c,b.name),this},_trigger:function(){var a=Array.prototype.slice.apply(arguments);return"string"==typeof a[0]&&(a[0]={type:a[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,a),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,a),this},instances:function(b){var c=[];return a(b||".tooltipstered").each(function(){var b=a(this),d=b.data("tooltipster-ns");d&&a.each(d,function(a,d){c.push(b.data(d))})}),c},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(b){return a((b?b+" ":"")+".tooltipstered").toArray()},setDefaults:function(b){return a.extend(e,b),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.tooltipster=new h,a.Tooltipster=function(b,c){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=a({}),this.__$emitterPublic=a({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(b,c)},a.Tooltipster.prototype={__init:function(b,c){var d=this;if(d._$origin=a(b),d.__options=a.extend(!0,{},e,c),d.__optionsFormat(),!g.IE||g.IE>=d.__options.IEmin){var f=null;if(void 0===d._$origin.data("tooltipster-initialTitle")&&(f=d._$origin.attr("title"),void 0===f&&(f=null),d._$origin.data("tooltipster-initialTitle",f)),null!==d.__options.content)d.__contentSet(d.__options.content);else{var h,i=d._$origin.attr("data-tooltip-content");i&&(h=a(i)),h&&h[0]?d.__contentSet(h.first()):d.__contentSet(f)}d._$origin.removeAttr("title").addClass("tooltipstered"),d.__prepareOrigin(),d.__prepareGC(),a.each(d.__options.plugins,function(a,b){d._plug(b)}),g.hasTouchCapability&&a(g.window.document.body).on("touchmove."+d.__namespace+"-triggerOpen",function(a){d._touchRecordEvent(a)}),d._on("created",function(){d.__prepareTooltip()})._on("repositioned",function(a){d.__lastPosition=a.position})}else d.__options.disabled=!0},__contentInsert:function(){var a=this,b=a._$tooltip.find(".tooltipster-content"),c=a.__Content,d=function(a){c=a};return a._trigger({type:"format",content:a.__Content,format:d}),a.__options.functionFormat&&(c=a.__options.functionFormat.call(a,a,{origin:a._$origin[0]},a.__Content)),"string"!=typeof c||a.__options.contentAsHTML?b.empty().append(c):b.text(c),a},__contentSet:function(b){return b instanceof a&&this.__options.contentCloning&&(b=b.clone(!0)),this.__Content=b,this._trigger({type:"updated",content:b}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var b=this,c=b._$origin,d=b._$origin.is("area");if(d){c=a('img[usemap="#'+b._$origin.parent().attr("name")+'"]')}var e=c[0].getBoundingClientRect(),f=a(g.window.document),h=a(g.window),i=c,j={available:{document:null,window:null},document:{size:{height:f.height(),width:f.width()}},window:{scroll:{left:g.window.scrollX||g.window.document.documentElement.scrollLeft,top:g.window.scrollY||g.window.document.documentElement.scrollTop},size:{height:h.height(),width:h.width()}},origin:{fixedLineage:!1,offset:{},size:{height:e.bottom-e.top,width:e.right-e.left},usemapImage:d?c[0]:null,windowOffset:{bottom:e.bottom,left:e.left,right:e.right,top:e.top}}};if(d){var k=b._$origin.attr("shape"),l=b._$origin.attr("coords");if(l&&(l=l.split(","),a.map(l,function(a,b){l[b]=parseInt(a)})),"default"!=k)switch(k){case"circle":var m=l[0],n=l[1],o=l[2],p=n-o,q=m-o;j.origin.size.height=2*o,j.origin.size.width=j.origin.size.height,j.origin.windowOffset.left+=q,j.origin.windowOffset.top+=p;break;case"rect":var r=l[0],s=l[1],t=l[2],u=l[3];j.origin.size.height=u-s,j.origin.size.width=t-r,j.origin.windowOffset.left+=r,j.origin.windowOffset.top+=s;break;case"poly":for(var v=0,w=0,x=0,y=0,z="even",A=0;A<l.length;A++){var B=l[A];"even"==z?(B>x&&(x=B,0===A&&(v=x)),B<v&&(v=B),z="odd"):(B>y&&(y=B,1==A&&(w=y)),B<w&&(w=B),z="even")}j.origin.size.height=y-w,j.origin.size.width=x-v,j.origin.windowOffset.left+=v,j.origin.windowOffset.top+=w}}var C=function(a){j.origin.size.height=a.height,j.origin.windowOffset.left=a.left,j.origin.windowOffset.top=a.top,j.origin.size.width=a.width};for(b._trigger({type:"geometry",edit:C,geometry:{height:j.origin.size.height,left:j.origin.windowOffset.left,top:j.origin.windowOffset.top,width:j.origin.size.width}}),j.origin.windowOffset.right=j.origin.windowOffset.left+j.origin.size.width,j.origin.windowOffset.bottom=j.origin.windowOffset.top+j.origin.size.height,j.origin.offset.left=j.origin.windowOffset.left+j.window.scroll.left,j.origin.offset.top=j.origin.windowOffset.top+j.window.scroll.top,j.origin.offset.bottom=j.origin.offset.top+j.origin.size.height,j.origin.offset.right=j.origin.offset.left+j.origin.size.width,j.available.document={bottom:{height:j.document.size.height-j.origin.offset.bottom,width:j.document.size.width},left:{height:j.document.size.height,width:j.origin.offset.left},right:{height:j.document.size.height,width:j.document.size.width-j.origin.offset.right},top:{height:j.origin.offset.top,width:j.document.size.width}},j.available.window={bottom:{height:Math.max(j.window.size.height-Math.max(j.origin.windowOffset.bottom,0),0),width:j.window.size.width},left:{height:j.window.size.height,width:Math.max(j.origin.windowOffset.left,0)},right:{height:j.window.size.height,width:Math.max(j.window.size.width-Math.max(j.origin.windowOffset.right,0),0)},top:{height:Math.max(j.origin.windowOffset.top,0),width:j.window.size.width}};"html"!=i[0].tagName.toLowerCase();){if("fixed"==i.css("position")){j.origin.fixedLineage=!0;break}i=i.parent()}return j},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=a(g.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=a(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var b=this;return b.__options.selfDestruction?b.__garbageCollector=setInterval(function(){var c=(new Date).getTime();b.__touchEvents=a.grep(b.__touchEvents,function(a,b){return c-a.time>6e4}),d(b._$origin)||b.destroy()},2e4):clearInterval(b.__garbageCollector),b},__prepareOrigin:function(){var a=this;if(a._$origin.off("."+a.__namespace+"-triggerOpen"),g.hasTouchCapability&&a._$origin.on("touchstart."+a.__namespace+"-triggerOpen touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen",function(b){a._touchRecordEvent(b)}),a.__options.triggerOpen.click||a.__options.triggerOpen.tap&&g.hasTouchCapability){var b="";a.__options.triggerOpen.click&&(b+="click."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.tap&&g.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&a._open(b)})}if(a.__options.triggerOpen.mouseenter||a.__options.triggerOpen.touchstart&&g.hasTouchCapability){var b="";a.__options.triggerOpen.mouseenter&&(b+="mouseenter."+a.__namespace+"-triggerOpen "),a.__options.triggerOpen.touchstart&&g.hasTouchCapability&&(b+="touchstart."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){!a._touchIsTouchEvent(b)&&a._touchIsEmulatedEvent(b)||(a.__pointerIsOverOrigin=!0,a._openShortly(b))})}if(a.__options.triggerClose.mouseleave||a.__options.triggerClose.touchleave&&g.hasTouchCapability){var b="";a.__options.triggerClose.mouseleave&&(b+="mouseleave."+a.__namespace+"-triggerOpen "),a.__options.triggerClose.touchleave&&g.hasTouchCapability&&(b+="touchend."+a.__namespace+"-triggerOpen touchcancel."+a.__namespace+"-triggerOpen"),a._$origin.on(b,function(b){a._touchIsMeaningfulEvent(b)&&(a.__pointerIsOverOrigin=!1)})}return a},__prepareTooltip:function(){var b=this,c=b.__options.interactive?"auto":"";return b._$tooltip.attr("id",b.__namespace).css({"pointer-events":c,zIndex:b.__options.zIndex}),a.each(b.__previousThemes,function(a,c){b._$tooltip.removeClass(c)}),a.each(b.__options.theme,function(a,c){b._$tooltip.addClass(c)}),b.__previousThemes=a.merge([],b.__options.theme),b},__scrollHandler:function(b){var c=this;if(c.__options.triggerClose.scroll)c._close(b);else if(d(c._$origin)&&d(c._$tooltip)){if(b.target===g.window.document)c.__Geometry.origin.fixedLineage||c.__options.repositionOnScroll&&c.reposition(b);else{var e=c.__geometry(),f=!1;if("fixed"!=c._$origin.css("position")&&c.__$originParents.each(function(b,c){var d=a(c),g=d.css("overflow-x"),h=d.css("overflow-y");if("visible"!=g||"visible"!=h){var i=c.getBoundingClientRect();if("visible"!=g&&(e.origin.windowOffset.left<i.left||e.origin.windowOffset.right>i.right))return f=!0,!1;if("visible"!=h&&(e.origin.windowOffset.top<i.top||e.origin.windowOffset.bottom>i.bottom))return f=!0,!1}if("fixed"==d.css("position"))return!1}),f)c._$tooltip.css("visibility","hidden");else if(c._$tooltip.css("visibility","visible"),c.__options.repositionOnScroll)c.reposition(b);else{var h=e.origin.offset.left-c.__Geometry.origin.offset.left,i=e.origin.offset.top-c.__Geometry.origin.offset.top;c._$tooltip.css({left:c.__lastPosition.coord.left+h,top:c.__lastPosition.coord.top+i})}}c._trigger({type:"scroll",event:b})}return c},__stateSet:function(a){return this.__state=a,this._trigger({type:"state",state:a}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,a.each(this.__timeouts.close,function(a,b){clearTimeout(b)}),this.__timeouts.close=[],this},__trackerStart:function(){var a=this,b=a._$tooltip.find(".tooltipster-content");return a.__options.trackTooltip&&(a.__contentBcr=b[0].getBoundingClientRect()),a.__tracker=setInterval(function(){if(d(a._$origin)&&d(a._$tooltip)){if(a.__options.trackOrigin){var e=a.__geometry(),f=!1;c(e.origin.size,a.__Geometry.origin.size)&&(a.__Geometry.origin.fixedLineage?c(e.origin.windowOffset,a.__Geometry.origin.windowOffset)&&(f=!0):c(e.origin.offset,a.__Geometry.origin.offset)&&(f=!0)),f||(a.__options.triggerClose.mouseleave?a._close():a.reposition())}if(a.__options.trackTooltip){var g=b[0].getBoundingClientRect();g.height===a.__contentBcr.height&&g.width===a.__contentBcr.width||(a.reposition(),a.__contentBcr=g)}}else a._close()},a.__options.trackerInterval),a},_close:function(b,c){var d=this,e=!0;if(d._trigger({type:"close",event:b,stop:function(){e=!1}}),e||d.__destroying){c&&d.__callbacks.close.push(c),d.__callbacks.open=[],d.__timeoutsClear();var f=function(){a.each(d.__callbacks.close,function(a,c){c.call(d,d,{event:b,origin:d._$origin[0]})}),d.__callbacks.close=[]};if("closed"!=d.__state){var h=!0,i=new Date,j=i.getTime(),k=j+d.__options.animationDuration[1];if("disappearing"==d.__state&&k>d.__closingTime&&(h=!1),h){d.__closingTime=k,"disappearing"!=d.__state&&d.__stateSet("disappearing");var l=function(){clearInterval(d.__tracker),d._trigger({type:"closing",event:b}),d._$tooltip.off("."+d.__namespace+"-triggerClose").removeClass("tooltipster-dying"),a(g.window).off("."+d.__namespace+"-triggerClose"),d.__$originParents.each(function(b,c){a(c).off("scroll."+d.__namespace+"-triggerClose")}),d.__$originParents=null,a(g.window.document.body).off("."+d.__namespace+"-triggerClose"),d._$origin.off("."+d.__namespace+"-triggerClose"),d._off("dismissable"),d.__stateSet("closed"),d._trigger({type:"after",event:b}),d.__options.functionAfter&&d.__options.functionAfter.call(d,d,{event:b,origin:d._$origin[0]}),f()};g.hasTransitions?(d._$tooltip.css({"-moz-animation-duration":d.__options.animationDuration[1]+"ms","-ms-animation-duration":d.__options.animationDuration[1]+"ms","-o-animation-duration":d.__options.animationDuration[1]+"ms","-webkit-animation-duration":d.__options.animationDuration[1]+"ms","animation-duration":d.__options.animationDuration[1]+"ms","transition-duration":d.__options.animationDuration[1]+"ms"}),d._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),d.__options.animationDuration[1]>0&&d._$tooltip.delay(d.__options.animationDuration[1]),d._$tooltip.queue(l)):d._$tooltip.stop().fadeOut(d.__options.animationDuration[1],l)}}else f()}return d},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(b,c){var e=this;if(!e.__destroying&&d(e._$origin)&&e.__enabled){var f=!0;if("closed"==e.__state&&(e._trigger({type:"before",event:b,stop:function(){f=!1}}),f&&e.__options.functionBefore&&(f=e.__options.functionBefore.call(e,e,{event:b,origin:e._$origin[0]}))),f!==!1&&null!==e.__Content){c&&e.__callbacks.open.push(c),e.__callbacks.close=[],e.__timeoutsClear();var h,i=function(){"stable"!=e.__state&&e.__stateSet("stable"),a.each(e.__callbacks.open,function(a,b){b.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}),e.__callbacks.open=[]};if("closed"!==e.__state)h=0,"disappearing"===e.__state?(e.__stateSet("appearing"),g.hasTransitions?(e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i)):e._$tooltip.stop().fadeIn(i)):"stable"==e.__state&&i();else{if(e.__stateSet("appearing"),h=e.__options.animationDuration[0],e.__contentInsert(),e.reposition(b,!0),g.hasTransitions?(e._$tooltip.addClass("tooltipster-"+e.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":e.__options.animationDuration[0]+"ms","-ms-animation-duration":e.__options.animationDuration[0]+"ms","-o-animation-duration":e.__options.animationDuration[0]+"ms","-webkit-animation-duration":e.__options.animationDuration[0]+"ms","animation-duration":e.__options.animationDuration[0]+"ms","transition-duration":e.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=e.__state&&(e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),e.__options.animationDuration[0]>0&&e._$tooltip.delay(e.__options.animationDuration[0]),e._$tooltip.queue(i))},0)):e._$tooltip.css("display","none").fadeIn(e.__options.animationDuration[0],i),e.__trackerStart(),a(g.window).on("resize."+e.__namespace+"-triggerClose",function(b){var c=a(document.activeElement);(c.is("input")||c.is("textarea"))&&a.contains(e._$tooltip[0],c[0])||e.reposition(b)}).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)}),e.__$originParents=e._$origin.parents(),e.__$originParents.each(function(b,c){a(c).on("scroll."+e.__namespace+"-triggerClose",function(a){e.__scrollHandler(a)})}),e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&g.hasTouchCapability){e._on("dismissable",function(a){a.dismissable?a.delay?(m=setTimeout(function(){e._close(a.event)},a.delay),e.__timeouts.close.push(m)):e._close(a):clearTimeout(m)});var j=e._$origin,k="",l="",m=null;e.__options.interactive&&(j=j.add(e._$tooltip)),e.__options.triggerClose.mouseleave&&(k+="mouseenter."+e.__namespace+"-triggerClose ",l+="mouseleave."+e.__namespace+"-triggerClose "),e.__options.triggerClose.touchleave&&g.hasTouchCapability&&(k+="touchstart."+e.__namespace+"-triggerClose",l+="touchend."+e.__namespace+"-triggerClose touchcancel."+e.__namespace+"-triggerClose"),j.on(l,function(a){if(e._touchIsTouchEvent(a)||!e._touchIsEmulatedEvent(a)){var b="mouseleave"==a.type?e.__options.delay:e.__options.delayTouch;e._trigger({delay:b[1],dismissable:!0,event:a,type:"dismissable"})}}).on(k,function(a){!e._touchIsTouchEvent(a)&&e._touchIsEmulatedEvent(a)||e._trigger({dismissable:!1,event:a,type:"dismissable"})})}e.__options.triggerClose.originClick&&e._$origin.on("click."+e.__namespace+"-triggerClose",function(a){e._touchIsTouchEvent(a)||e._touchIsEmulatedEvent(a)||e._close(a)}),(e.__options.triggerClose.click||e.__options.triggerClose.tap&&g.hasTouchCapability)&&setTimeout(function(){if("closed"!=e.__state){var b="",c=a(g.window.document.body);e.__options.triggerClose.click&&(b+="click."+e.__namespace+"-triggerClose "),e.__options.triggerClose.tap&&g.hasTouchCapability&&(b+="touchend."+e.__namespace+"-triggerClose"),c.on(b,function(b){e._touchIsMeaningfulEvent(b)&&(e._touchRecordEvent(b),e.__options.interactive&&a.contains(e._$tooltip[0],b.target)||e._close(b))}),e.__options.triggerClose.tap&&g.hasTouchCapability&&c.on("touchstart."+e.__namespace+"-triggerClose",function(a){e._touchRecordEvent(a)})}},0),e._trigger("ready"),e.__options.functionReady&&e.__options.functionReady.call(e,e,{origin:e._$origin[0],tooltip:e._$tooltip[0]})}if(e.__options.timer>0){var m=setTimeout(function(){e._close()},e.__options.timer+h);e.__timeouts.close.push(m)}}}return e},_openShortly:function(a){var b=this,c=!0;if("stable"!=b.__state&&"appearing"!=b.__state&&!b.__timeouts.open&&(b._trigger({type:"start",event:a,stop:function(){c=!1}}),c)){var d=0==a.type.indexOf("touch")?b.__options.delayTouch:b.__options.delay;d[0]?b.__timeouts.open=setTimeout(function(){b.__timeouts.open=null,b.__pointerIsOverOrigin&&b._touchIsMeaningfulEvent(a)?(b._trigger("startend"),b._open(a)):b._trigger("startcancel")},d[0]):(b._trigger("startend"),b._open(a))}return b},_optionsExtract:function(b,c){var d=this,e=a.extend(!0,{},c),f=d.__options[b];return f||(f={},a.each(c,function(a,b){var c=d.__options[a];void 0!==c&&(f[a]=c)})),a.each(e,function(b,c){void 0!==f[b]&&("object"!=typeof c||c instanceof Array||null==c||"object"!=typeof f[b]||f[b]instanceof Array||null==f[b]?e[b]=f[b]:a.extend(e[b],f[b]))}),e},_plug:function(b){var c=a.tooltipster._plugin(b);if(!c)throw new Error('The "'+b+'" plugin is not defined');return c.instance&&a.tooltipster.__bridge(c.instance,this,c.name),this},_touchIsEmulatedEvent:function(a){for(var b=!1,c=(new Date).getTime(),d=this.__touchEvents.length-1;d>=0;d--){var e=this.__touchEvents[d];if(!(c-e.time<500))break;e.target===a.target&&(b=!0)}return b},_touchIsMeaningfulEvent:function(a){return this._touchIsTouchEvent(a)&&!this._touchSwiped(a.target)||!this._touchIsTouchEvent(a)&&!this._touchIsEmulatedEvent(a)},_touchIsTouchEvent:function(a){return 0==a.type.indexOf("touch")},_touchRecordEvent:function(a){return this._touchIsTouchEvent(a)&&(a.time=(new Date).getTime(),this.__touchEvents.push(a)),this},_touchSwiped:function(a){for(var b=!1,c=this.__touchEvents.length-1;c>=0;c--){var d=this.__touchEvents[c];if("touchmove"==d.type){b=!0;break}if("touchstart"==d.type&&a===d.target)break}return b},_trigger:function(){var b=Array.prototype.slice.apply(arguments)
;return"string"==typeof b[0]&&(b[0]={type:b[0]}),b[0].instance=this,b[0].origin=this._$origin?this._$origin[0]:null,b[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),a.tooltipster._trigger.apply(a.tooltipster,b),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},_unplug:function(b){var c=this;if(c[b]){var d=a.tooltipster._plugin(b);d.instance&&a.each(d.instance,function(a,d){c[a]&&c[a].bridged===c[b]&&delete c[a]}),c[b].__destroy&&c[b].__destroy(),delete c[b]}return c},close:function(a){return this.__destroyed?this.__destroyError():this._close(null,a),this},content:function(a){var b=this;if(void 0===a)return b.__Content;if(b.__destroyed)b.__destroyError();else if(b.__contentSet(a),null!==b.__Content){if("closed"!==b.__state&&(b.__contentInsert(),b.reposition(),b.__options.updateAnimation))if(g.hasTransitions){var c=b.__options.updateAnimation;b._$tooltip.addClass("tooltipster-update-"+c),setTimeout(function(){"closed"!=b.__state&&b._$tooltip.removeClass("tooltipster-update-"+c)},1e3)}else b._$tooltip.fadeTo(200,.5,function(){"closed"!=b.__state&&b._$tooltip.fadeTo(200,1)})}else b._close();return b},destroy:function(){var b=this;return b.__destroyed?b.__destroyError():b.__destroying||(b.__destroying=!0,b._close(null,function(){b._trigger("destroy"),b.__destroying=!1,b.__destroyed=!0,b._$origin.removeData(b.__namespace).off("."+b.__namespace+"-triggerOpen"),a(g.window.document.body).off("."+b.__namespace+"-triggerOpen");var c=b._$origin.data("tooltipster-ns");if(c)if(1===c.length){var d=null;"previous"==b.__options.restoration?d=b._$origin.data("tooltipster-initialTitle"):"current"==b.__options.restoration&&(d="string"==typeof b.__Content?b.__Content:a("<div></div>").append(b.__Content).html()),d&&b._$origin.attr("title",d),b._$origin.removeClass("tooltipstered"),b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else c=a.grep(c,function(a,c){return a!==b.__namespace}),b._$origin.data("tooltipster-ns",c);b._trigger("destroyed"),b._off(),b.off(),b.__Content=null,b.__$emitterPrivate=null,b.__$emitterPublic=null,b.__options.parent=null,b._$origin=null,b._$tooltip=null,a.tooltipster.__instancesLatestArr=a.grep(a.tooltipster.__instancesLatestArr,function(a,c){return b!==a}),clearInterval(b.__garbageCollector)})),b},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(a){return this.close(a)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(a){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,a),this},option:function(b,c){return void 0===c?this.__options[b]:(this.__destroyed?this.__destroyError():(this.__options[b]=c,this.__optionsFormat(),a.inArray(b,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===b&&this.__prepareGC()),this)},reposition:function(a,b){var c=this;return c.__destroyed?c.__destroyError():"closed"!=c.__state&&d(c._$origin)&&(b||d(c._$tooltip))&&(b||c._$tooltip.detach(),c.__Geometry=c.__geometry(),c._trigger({type:"reposition",event:a,helper:{geo:c.__Geometry}})),c},show:function(a){return this.open(a)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},a.fn.tooltipster=function(){var b=Array.prototype.slice.apply(arguments),c="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof b[0]){var d="#*$~&";return this.each(function(){var e=a(this).data("tooltipster-ns"),f=e?a(this).data(e[0]):null;if(!f)throw new Error("You called Tooltipster's \""+b[0]+'" method on an uninitialized element');if("function"!=typeof f[b[0]])throw new Error('Unknown method "'+b[0]+'"');this.length>1&&"content"==b[0]&&(b[1]instanceof a||"object"==typeof b[1]&&null!=b[1]&&b[1].tagName)&&!f.__options.contentCloning&&f.__options.debug&&console.log(c);var g=f[b[0]](b[1],b[2]);if(g!==f||"instance"===b[0])return d=g,!1}),"#*$~&"!==d?d:this}a.tooltipster.__instancesLatestArr=[];var f=b[0]&&void 0!==b[0].multiple,g=f&&b[0].multiple||!f&&e.multiple,h=b[0]&&void 0!==b[0].content,i=h&&b[0].content||!h&&e.content,j=b[0]&&void 0!==b[0].contentCloning,k=j&&b[0].contentCloning||!j&&e.contentCloning,l=b[0]&&void 0!==b[0].debug,m=l&&b[0].debug||!l&&e.debug;return this.length>1&&(i instanceof a||"object"==typeof i&&null!=i&&i.tagName)&&!k&&m&&console.log(c),this.each(function(){var c=!1,d=a(this),e=d.data("tooltipster-ns"),f=null;e?g?c=!0:m&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):c=!0,c&&(f=new a.Tooltipster(this,b[0]),e||(e=[]),e.push(f.__namespace),d.data("tooltipster-ns",e),d.data(f.__namespace,f),f.__options.functionInit&&f.__options.functionInit.call(f,f,{origin:this}),f._trigger("init")),a.tooltipster.__instancesLatestArr.push(f)}),this},b.prototype={__init:function(b){this.__$tooltip=b,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(g.window.document.body)},__forceRedraw:function(){var a=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(a)},constrain:function(a,b){return this.constraints={width:a,height:b},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:a}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var a=this.__$tooltip[0].getBoundingClientRect(),b={size:{height:a.height||a.bottom,width:a.width||a.right}};if(this.constraints){var c=this.__$tooltip.find(".tooltipster-content"),d=this.__$tooltip.outerHeight(),e=c[0].getBoundingClientRect(),f={height:d<=this.constraints.height,width:a.width<=this.constraints.width&&e.width>=c[0].scrollWidth-1};b.fits=f.height&&f.width}return g.IE&&g.IE<=11&&b.size.width!==g.window.document.documentElement.clientWidth&&(b.size.width=Math.ceil(b.size.width)+1),b}};var i=navigator.userAgent.toLowerCase();i.indexOf("msie")!=-1?g.IE=parseInt(i.split("msie")[1]):i.toLowerCase().indexOf("trident")!==-1&&i.indexOf(" rv:11")!==-1?g.IE=11:i.toLowerCase().indexOf("edge/")!=-1&&(g.IE=parseInt(i.toLowerCase().split("edge/")[1]));return a.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(a){var b=this;b.__instance=a,b.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),b.__previousState="closed",b.__options,b.__optionsFormat(),b.__instance._on("state."+b.__namespace,function(a){"closed"==a.state?b.__close():"appearing"==a.state&&"closed"==b.__previousState&&b.__create(),b.__previousState=a.state}),b.__instance._on("options."+b.__namespace,function(){b.__optionsFormat()}),b.__instance._on("reposition."+b.__namespace,function(a){b.__reposition(a.event,a.helper)})},__close:function(){this.__instance.content()instanceof a&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var b=a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||b.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&b.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&b.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=b,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var b=this;if(b.__options=b.__instance._optionsExtract("tooltipster.sideTip",b.__defaults()),b.__options.position&&(b.__options.side=b.__options.position),"object"!=typeof b.__options.distance&&(b.__options.distance=[b.__options.distance]),b.__options.distance.length<4&&(void 0===b.__options.distance[1]&&(b.__options.distance[1]=b.__options.distance[0]),void 0===b.__options.distance[2]&&(b.__options.distance[2]=b.__options.distance[0]),void 0===b.__options.distance[3]&&(b.__options.distance[3]=b.__options.distance[1]),b.__options.distance={top:b.__options.distance[0],right:b.__options.distance[1],bottom:b.__options.distance[2],left:b.__options.distance[3]}),"string"==typeof b.__options.side){var c={top:"bottom",right:"left",bottom:"top",left:"right"};b.__options.side=[b.__options.side,c[b.__options.side]],"left"==b.__options.side[0]||"right"==b.__options.side[0]?b.__options.side.push("top","bottom"):b.__options.side.push("right","left")}6===a.tooltipster._env.IE&&b.__options.arrow!==!0&&(b.__options.arrow=!1)},__reposition:function(b,c){var d,e=this,f=e.__targetFind(c),g=[];e.__instance._$tooltip.detach();var h=e.__instance._$tooltip.clone(),i=a.tooltipster._getRuler(h),j=!1,k=e.__instance.option("animation");switch(k&&h.removeClass("tooltipster-"+k),a.each(["window","document"],function(d,k){var l=null;if(e.__instance._trigger({container:k,helper:c,satisfied:j,takeTest:function(a){l=a},results:g,type:"positionTest"}),1==l||0!=l&&0==j&&("window"!=k||e.__options.viewportAware))for(var d=0;d<e.__options.side.length;d++){var m={horizontal:0,vertical:0},n=e.__options.side[d];"top"==n||"bottom"==n?m.vertical=e.__options.distance[n]:m.horizontal=e.__options.distance[n],e.__sideChange(h,n),a.each(["natural","constrained"],function(a,d){if(l=null,e.__instance._trigger({container:k,event:b,helper:c,mode:d,results:g,satisfied:j,side:n,takeTest:function(a){l=a},type:"positionTest"}),1==l||0!=l&&0==j){var h={container:k,distance:m,fits:null,mode:d,outerSize:null,side:n,size:null,target:f[n],whole:null},o="natural"==d?i.free():i.constrain(c.geo.available[k][n].width-m.horizontal,c.geo.available[k][n].height-m.vertical),p=o.measure();if(h.size=p.size,h.outerSize={height:p.size.height+m.vertical,width:p.size.width+m.horizontal},"natural"==d?c.geo.available[k][n].width>=h.outerSize.width&&c.geo.available[k][n].height>=h.outerSize.height?h.fits=!0:h.fits=!1:h.fits=p.fits,"window"==k&&(h.fits?h.whole="top"==n||"bottom"==n?c.geo.origin.windowOffset.right>=e.__options.minIntersection&&c.geo.window.size.width-c.geo.origin.windowOffset.left>=e.__options.minIntersection:c.geo.origin.windowOffset.bottom>=e.__options.minIntersection&&c.geo.window.size.height-c.geo.origin.windowOffset.top>=e.__options.minIntersection:h.whole=!1),g.push(h),h.whole)j=!0;else if("natural"==h.mode&&(h.fits||h.size.width<=c.geo.available[k][n].width))return!1}})}}),e.__instance._trigger({edit:function(a){g=a},event:b,helper:c,results:g,type:"positionTested"}),g.sort(function(a,b){if(a.whole&&!b.whole)return-1;if(!a.whole&&b.whole)return 1;if(a.whole&&b.whole){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return c<d?-1:c>d?1:"natural"==a.mode?-1:1}if(a.fits&&!b.fits)return-1;if(!a.fits&&b.fits)return 1;if(a.fits&&b.fits){var c=e.__options.side.indexOf(a.side),d=e.__options.side.indexOf(b.side);return c<d?-1:c>d?1:"natural"==a.mode?-1:1}return"document"==a.container&&"bottom"==a.side&&"natural"==a.mode?-1:1}),d=g[0],d.coord={},d.side){case"left":case"right":d.coord.top=Math.floor(d.target-d.size.height/2);break;case"bottom":case"top":d.coord.left=Math.floor(d.target-d.size.width/2)}switch(d.side){case"left":d.coord.left=c.geo.origin.windowOffset.left-d.outerSize.width;break;case"right":d.coord.left=c.geo.origin.windowOffset.right+d.distance.horizontal;break;case"top":d.coord.top=c.geo.origin.windowOffset.top-d.outerSize.height;break;case"bottom":d.coord.top=c.geo.origin.windowOffset.bottom+d.distance.vertical}"window"==d.container?"top"==d.side||"bottom"==d.side?d.coord.left<0?c.geo.origin.windowOffset.right-this.__options.minIntersection>=0?d.coord.left=0:d.coord.left=c.geo.origin.windowOffset.right-this.__options.minIntersection-1:d.coord.left>c.geo.window.size.width-d.size.width&&(c.geo.origin.windowOffset.left+this.__options.minIntersection<=c.geo.window.size.width?d.coord.left=c.geo.window.size.width-d.size.width:d.coord.left=c.geo.origin.windowOffset.left+this.__options.minIntersection+1-d.size.width):d.coord.top<0?c.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?d.coord.top=0:d.coord.top=c.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:d.coord.top>c.geo.window.size.height-d.size.height&&(c.geo.origin.windowOffset.top+this.__options.minIntersection<=c.geo.window.size.height?d.coord.top=c.geo.window.size.height-d.size.height:d.coord.top=c.geo.origin.windowOffset.top+this.__options.minIntersection+1-d.size.height):(d.coord.left>c.geo.window.size.width-d.size.width&&(d.coord.left=c.geo.window.size.width-d.size.width),d.coord.left<0&&(d.coord.left=0)),e.__sideChange(h,d.side),c.tooltipClone=h[0],c.tooltipParent=e.__instance.option("parent").parent[0],c.mode=d.mode,c.whole=d.whole,c.origin=e.__instance._$origin[0],c.tooltip=e.__instance._$tooltip[0],delete d.container,delete d.fits,delete d.mode,delete d.outerSize,delete d.whole,d.distance=d.distance.horizontal||d.distance.vertical;var l=a.extend(!0,{},d);if(e.__instance._trigger({edit:function(a){d=a},event:b,helper:c,position:l,type:"position"}),e.__options.functionPosition){var m=e.__options.functionPosition.call(e,e.__instance,c,l);m&&(d=m)}i.destroy();var n,o;"top"==d.side||"bottom"==d.side?(n={prop:"left",val:d.target-d.coord.left},o=d.size.width-this.__options.minIntersection):(n={prop:"top",val:d.target-d.coord.top},o=d.size.height-this.__options.minIntersection),n.val<this.__options.minIntersection?n.val=this.__options.minIntersection:n.val>o&&(n.val=o);var p;p=c.geo.origin.fixedLineage?c.geo.origin.windowOffset:{left:c.geo.origin.windowOffset.left+c.geo.window.scroll.left,top:c.geo.origin.windowOffset.top+c.geo.window.scroll.top},d.coord={left:p.left+(d.coord.left-c.geo.origin.windowOffset.left),top:p.top+(d.coord.top-c.geo.origin.windowOffset.top)},e.__sideChange(e.__instance._$tooltip,d.side),c.geo.origin.fixedLineage?e.__instance._$tooltip.css("position","fixed"):e.__instance._$tooltip.css("position",""),e.__instance._$tooltip.css({left:d.coord.left,top:d.coord.top,height:d.size.height,width:d.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(n.prop,n.val),e.__instance._$tooltip.appendTo(e.__instance.option("parent")),e.__instance._trigger({type:"repositioned",event:b,position:d})},__sideChange:function(a,b){a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+b)},__targetFind:function(a){var b={},c=this.__instance._$origin[0].getClientRects();if(c.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),c=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(c.length<2)b.top=Math.floor(a.geo.origin.windowOffset.left+a.geo.origin.size.width/2),b.bottom=b.top,b.left=Math.floor(a.geo.origin.windowOffset.top+a.geo.origin.size.height/2),b.right=b.left;else{var d=c[0];b.top=Math.floor(d.left+(d.right-d.left)/2),d=c.length>2?c[Math.ceil(c.length/2)-1]:c[0],b.right=Math.floor(d.top+(d.bottom-d.top)/2),d=c[c.length-1],b.bottom=Math.floor(d.left+(d.right-d.left)/2),d=c.length>2?c[Math.ceil((c.length+1)/2)-1]:c[c.length-1],b.left=Math.floor(d.top+(d.bottom-d.top)/2)}return b}}}),a}),function(a){"use strict";a(window).load(function(){a(".loader").fadeOut(),a(".page-loader").delay(350).fadeOut("slow")}),window.matchMedia("(min-width: 48em)").matches&&a(".cl").click(function(){a(".listcard").fadeOut("100"),a("#map").fadeOut("100"),a(".loader").fadeIn("100"),a(".page-loader").fadeIn("100"),setTimeout(function(){a("#searchform").submit()},100)})}(jQuery);
